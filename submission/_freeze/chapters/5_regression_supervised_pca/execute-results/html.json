{
  "hash": "be9d3fb2961d6ff4059681085601ffa1",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Regression: Supervised PCA\"\nformat:\n  html:\n    toc: true\n    toc-depth: 3\nexecute:\n  warning: false\n  message: false\n  cache: true\n---\n\n\n\n\n# Regression: Supervised PCA\n\nThis chapter evaluates a **supervised PCA regression (SPCA)** workflow for explaining and predicting life expectancy. The motivation is pragmatic: many candidate predictors are strongly correlated (e.g., mortality indicators, immunization rates, and development proxies), so standard OLS on raw features can be unstable and hard to interpret. SPCA compresses the predictor space into **orthogonal components that are pre-screened for outcome relevance**: we (i) screen predictors by their marginal association with life expectancy, (ii) run PCA on the screened subset, and (iii) regress life expectancy on the resulting principal components (PCs). This follows the supervised principal components idea of @Bair01032006.\n\nWe use SPCA to answer four focused questions:\n\n1. **Model specification:** Do we need additional structure beyond additive PCs (e.g., a small number of PC–PC interactions) to improve fit?\n2. **Diagnostics:** Do the OLS assumptions for the final PC model look acceptable (residual structure, heteroscedasticity, influence, autocorrelation)?\n3. **Generalization:** How well does the fitted PC model transfer to other years, in particular to a holdout year (2011) and across the 2000–2014 range?\n\nThe workflow includes screening, AIC-based selection, interaction screening, and Cook’s-distance sensitivity trimming. Therefore, coefficient p-values and confidence intervals are best treated as **post-selection / exploratory inference**, and we emphasize stability, diagnostics, and out-of-sample performance.\n\n\n## Data preparation\n\n::: {#data-prep .cell execution_count=3}\n``` {.python .cell-code code-fold=\"true\"}\ntrain_ds = LifeExpectancyDataset.from_csv_updated(\n    aggregate_by_country=TRAIN_YEAR,\n    resolve_nand_pred=\"carry_forward\",\n)\nholdout_ds = LifeExpectancyDataset.from_csv_updated(\n    aggregate_by_country=HOLDOUT_YEAR,\n    resolve_nand_pred=\"carry_forward\",\n)\n\ntrain_full = train_ds.tf_and_norm().drop(columns=[LECol.YEAR])\nholdout_full = holdout_ds.tf_and_norm().drop(columns=[LECol.YEAR])\n\nif STATUS_DUMMY not in train_full.columns and LECol.STATUS in train_full.columns:\n    train_full = train_full.assign(\n        **{STATUS_DUMMY: train_full[LECol.STATUS].astype(int)}\n    )\n    holdout_full = holdout_full.assign(\n        **{STATUS_DUMMY: holdout_full[LECol.STATUS].astype(int)}\n    )\n\nregistry = ModelRegistry(eval_year=HOLDOUT_YEAR)\n```\n:::\n\n\n## Supervised PCA regression\n\n### Reduction to an outcome-relevant PC basis\n\nWe first screen predictors using their absolute marginal correlation with the target (threshold $|r|>0.25$ following @Bair01032006) and exclude the HDI feature to avoid mechanical target leakage. PCA is then fitted on this screened subset, producing an orthogonal PC basis.\n\n::: {#supervised-pca .cell execution_count=4}\n``` {.python .cell-code code-fold=\"false\"}\ncorr_result = (\n    LifeExpectancyDataset(df=train_full)\n    .make_correlation_analyzer(standardized=False, include_target=True)\n    .fit()\n    .result()\n)\n\nstrong_features = (\n    corr_result.target_correlations.assign(abs_cor=lambda d: d.correlation.abs())\n    .query(\"abs_cor > 0.25\")\n    .feature.tolist()\n)\nstrong_features = [\n    f\n    for f in strong_features\n    if f\n    not in [\n        LECol.HDI,\n    ]\n]\nprint(strong_features)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n['gdp', 'schooling', 'status_developed', 'bmi', 'measles', 'percentage_expenditure', 'alcohol', 'total_expenditure', 'hepatitis_b', 'diphtheria', 'thinness_1_19_years', 'polio', 'thinness_5_9_years', 'hiv_aids', 'infant_deaths', 'under_five_deaths', 'adult_mortality']\n```\n:::\n:::\n\n\n:::{.callout-note collapse=\"false\"}\n### Supervised PCA fit\n\nThe first reduction step is **statistical and pragmatic**: we retain only those PCs that are significant at the 5% level in an initial OLS fit on all PCs. This yields a reduced PC regression that remains high-performing in-sample ($R^2 \\approx 0.97$) while discarding PCs that contribute little conditional signal.\n\n::: {#tbl-supervised-pca-fit .cell tbl-cap='Reduced supervised-PCA regression (significant PCs).' execution_count=5}\n``` {.python .cell-code code-fold=\"true\"}\nfeature_groups = [FeatureGroup(name=\"supervised\", features=strong_features)]\n\npca_result = (\n    LifeExpectancyDataset(df=train_full)\n    .make_pca_dim_reduction_analyzer(\n        feature_groups=feature_groups,\n        standardized=True,\n        min_var_explained=1.0,\n    )\n    .fit()\n    .result()\n)\n\npc_train = pca_result.reduced_df\npc_holdout = pca_result.transform(holdout_full)\n\ntrain_pca_df = pc_train.assign(**train_full[[LECol.TARGET]])\nholdout_pca_df = pc_holdout.assign(**holdout_full[[LECol.TARGET]])\n```\n:::\n\n\n\nBecause PCs are orthogonal by construction, multicollinearity is minimal (VIF $\\approx 1$ by design). However, normality and homoscedasticity still need to be checked at the residual level: in the untrimmed reduced PC fit, Breusch–Pagan tends to be more sensitive (often rejecting), while White’s test may not reject, indicating that any heteroscedasticity is likely **mild and form-dependent** rather than severe or systematically misspecified.\n\n::: {#cell-supervised-pca-initial .cell execution_count=7}\n``` {.python .cell-code code-fold=\"true\"}\nrhs_pca = \" + \".join(pc_train.columns.astype(str))\nspca_diag = registry.fit(\n    train_pca_df,\n    name=\"m_spca\",\n    rhs=rhs_pca,\n)\n\nsig_pcs = [\n    term\n    for term, pval in spca_diag.model.pvalues.items()\n    if term.startswith(\"supervised_PC\") and float(pval) < 0.05\n]\nif not sig_pcs:\n    sig_pcs = pc_train.columns.tolist()\n\nrhs_pca_reduced = \" + \".join(sig_pcs)\nspca_reduced = registry.fit(\n    train_pca_df,\n    name=\"m_spca_reduced\",\n    rhs=rhs_pca_reduced,\n    refit=True,\n)\ndisplay(spca_reduced)\n```\n\n::: {#supervised-pca-initial .cell-output .cell-output-display}\n```{=html}\n\n<style>\n  .rr-wrap {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    font-size: 12px;\n    line-height: 1.4;\n    border: 1px solid #e3e3e3;\n    border-radius: 6px;\n    padding: 12px 14px;\n    background: #fbfbfb;\n    color: #111;\n  }\n  .rr-title {\n    font-weight: 700;\n    color: #0f172a;\n    margin-bottom: 6px;\n  }\n  .rr-sub {\n    color: #64748b;\n    margin-bottom: 8px;\n  }\n  .rr-formula {\n    margin-bottom: 8px;\n  }\n  .rr-section {\n    margin-top: 10px;\n  }\n  .rr-label {\n    color: #0f766e;\n    font-weight: 600;\n  }\n  .rr-kv {\n    margin: 2px 0;\n  }\n  .rr-ok { color: #0f766e; }\n  .rr-warn { color: #b45309; }\n  .rr-bad { color: #b91c1c; }\n  .rr-note {\n    margin-top: 10px;\n    color: #475569;\n  }\n  .rr-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 10px;\n  }\n  .rr-card {\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    background: #ffffff;\n  }\n  .rr-card .rr-label {\n    margin-bottom: 4px;\n  }\n  .rr-pre {\n    background: #ffffff;\n    color: #111;\n    padding: 10px 12px;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    margin: 6px 0 0 0;\n  }\n  .rr-summary {\n    margin-top: 6px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    overflow-x: auto;\n  }\n  .rr-summary table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 11px;\n  }\n  .rr-summary th, .rr-summary td {\n    padding: 3px 6px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  .rr-summary th {\n    text-align: left;\n    color: #0f172a;\n  }\n  details.rr-details {\n    margin-top: 10px;\n  }\n  details.rr-details > summary {\n    cursor: pointer;\n    color: #0f766e;\n    font-weight: 600;\n  }\n</style>\n<div class=\"rr-wrap\">\n  <div class=\"rr-title\">RegressionResult</div>\n  <div class=\"rr-sub\">Model: RegressionResultsWrapper | Observations: 179 | Params: 15</div>\n  <div class=\"rr-formula\"><span class=\"rr-label\">Formula</span>: life_expectancy ~ supervised_PC1 + supervised_PC3 + supervised_PC4 + supervised_PC5 + supervised_PC6 + supervised_PC7 + supervised_PC8 + supervised_PC9 + supervised_PC10 + supervised_PC11 + supervised_PC12 + supervised_PC13 + supervised_PC14 + supervised_PC17</div>\n\n  <div class=\"rr-section rr-grid\">\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Fit metrics</div>\n      <div class=\"rr-kv\">r2=0.971 | adj_r2=0.969</div>\n      <div class=\"rr-kv\">rmse=1.358 | mae=1.039 | mape=0.015</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Information criteria</div>\n      <div class=\"rr-kv\">aic=647.447 | aicc=650.392</div>\n      <div class=\"rr-kv\">bic=695.258 | mdl=347.629</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Cross-validation</div>\n      <div class=\"rr-kv\">cv_rmse=nan | folds=0</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Diagnostics</div>\n      <div class=\"rr-kv\">dw=2.187</div>\n      <div class=\"rr-kv\">jb_p=<span class=\"rr-warn\">0.019</span> | shapiro_p=<span class=\"rr-ok\">0.098</span></div>\n      <div class=\"rr-kv\">bp_p=<span class=\"rr-bad\">0.007</span> | white_p=<span class=\"rr-ok\">0.154</span></div>\n      <div class=\"rr-kv\">max_vif=1.000 | max_cooks=0.341</div>\n    </div>\n  </div>\n\n  <details class=\"rr-details\" open>\n    <summary>Statsmodels OLS summary</summary>\n    <div class=\"rr-summary\"><table class=\"simpletable\">\n<caption>OLS Regression Results</caption>\n<tr>\n  <th>Dep. Variable:</th>     <td>life_expectancy</td> <th>  R-squared:         </th> <td>   0.971</td> \n</tr>\n<tr>\n  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.969</td> \n</tr>\n<tr>\n  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   398.4</td> \n</tr>\n<tr>\n  <th>Date:</th>             <td>Sun, 18 Jan 2026</td> <th>  Prob (F-statistic):</th> <td>1.10e-118</td>\n</tr>\n<tr>\n  <th>Time:</th>                 <td>19:05:56</td>     <th>  Log-Likelihood:    </th> <td> -308.72</td> \n</tr>\n<tr>\n  <th>No. Observations:</th>      <td>   179</td>      <th>  AIC:               </th> <td>   647.4</td> \n</tr>\n<tr>\n  <th>Df Residuals:</th>          <td>   164</td>      <th>  BIC:               </th> <td>   695.3</td> \n</tr>\n<tr>\n  <th>Df Model:</th>              <td>    14</td>      <th>                     </th>     <td> </td>    \n</tr>\n<tr>\n  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    \n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n         <td></td>            <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  \n</tr>\n<tr>\n  <th>Intercept</th>       <td>   71.2168</td> <td>    0.106</td> <td>  671.750</td> <td> 0.000</td> <td>   71.007</td> <td>   71.426</td>\n</tr>\n<tr>\n  <th>supervised_PC1</th>  <td>   -2.5436</td> <td>    0.037</td> <td>  -68.734</td> <td> 0.000</td> <td>   -2.617</td> <td>   -2.471</td>\n</tr>\n<tr>\n  <th>supervised_PC3</th>  <td>   -1.7736</td> <td>    0.090</td> <td>  -19.798</td> <td> 0.000</td> <td>   -1.950</td> <td>   -1.597</td>\n</tr>\n<tr>\n  <th>supervised_PC4</th>  <td>   -0.9303</td> <td>    0.104</td> <td>   -8.940</td> <td> 0.000</td> <td>   -1.136</td> <td>   -0.725</td>\n</tr>\n<tr>\n  <th>supervised_PC5</th>  <td>    0.8159</td> <td>    0.112</td> <td>    7.310</td> <td> 0.000</td> <td>    0.596</td> <td>    1.036</td>\n</tr>\n<tr>\n  <th>supervised_PC6</th>  <td>    0.5433</td> <td>    0.121</td> <td>    4.504</td> <td> 0.000</td> <td>    0.305</td> <td>    0.781</td>\n</tr>\n<tr>\n  <th>supervised_PC7</th>  <td>   -0.3131</td> <td>    0.135</td> <td>   -2.316</td> <td> 0.022</td> <td>   -0.580</td> <td>   -0.046</td>\n</tr>\n<tr>\n  <th>supervised_PC8</th>  <td>    1.1665</td> <td>    0.153</td> <td>    7.625</td> <td> 0.000</td> <td>    0.864</td> <td>    1.469</td>\n</tr>\n<tr>\n  <th>supervised_PC9</th>  <td>    0.4543</td> <td>    0.175</td> <td>    2.593</td> <td> 0.010</td> <td>    0.108</td> <td>    0.800</td>\n</tr>\n<tr>\n  <th>supervised_PC10</th> <td>   -2.1998</td> <td>    0.227</td> <td>   -9.694</td> <td> 0.000</td> <td>   -2.648</td> <td>   -1.752</td>\n</tr>\n<tr>\n  <th>supervised_PC11</th> <td>   -1.8046</td> <td>    0.266</td> <td>   -6.786</td> <td> 0.000</td> <td>   -2.330</td> <td>   -1.280</td>\n</tr>\n<tr>\n  <th>supervised_PC12</th> <td>   -0.6845</td> <td>    0.296</td> <td>   -2.312</td> <td> 0.022</td> <td>   -1.269</td> <td>   -0.100</td>\n</tr>\n<tr>\n  <th>supervised_PC13</th> <td>    1.7283</td> <td>    0.335</td> <td>    5.162</td> <td> 0.000</td> <td>    1.067</td> <td>    2.389</td>\n</tr>\n<tr>\n  <th>supervised_PC14</th> <td>   -2.4119</td> <td>    0.361</td> <td>   -6.675</td> <td> 0.000</td> <td>   -3.125</td> <td>   -1.698</td>\n</tr>\n<tr>\n  <th>supervised_PC17</th> <td>  -11.9726</td> <td>    2.668</td> <td>   -4.488</td> <td> 0.000</td> <td>  -17.240</td> <td>   -6.705</td>\n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n  <th>Omnibus:</th>       <td> 6.533</td> <th>  Durbin-Watson:     </th> <td>   2.187</td>\n</tr>\n<tr>\n  <th>Prob(Omnibus):</th> <td> 0.038</td> <th>  Jarque-Bera (JB):  </th> <td>   7.930</td>\n</tr>\n<tr>\n  <th>Skew:</th>          <td> 0.257</td> <th>  Prob(JB):          </th> <td>  0.0190</td>\n</tr>\n<tr>\n  <th>Kurtosis:</th>      <td> 3.894</td> <th>  Cond. No.          </th> <td>    72.1</td>\n</tr>\n</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>\n  </details>\n\n  <details class=\"rr-details\" open>\n    <summary>Assumption checks (full)</summary>\n    <pre class=\"rr-pre\">AssumptionCheckResult(\n  Normality: JB(stat=7.93, p=0.019, FAIL); Shapiro/AD(stat=0.99, p=0.098, OK)\n  Homoscedasticity: BP(stat=30.18, p=0.007, FAIL); White(stat=134.69, p=0.154, OK)\n  Autocorrelation: Durbin-Watson=2.19 (OK)\n  Collinearity: cond#=72.09, max_vif=1.00, mean_vif=1.00\n  Influence: max_leverage=0.313, max_cook=0.341, cooks&gt;4/n=13\n)</pre>\n  </details>\n\n  <div class=\"rr-note\">Tip: call <code>print_summary()</code> for the full statsmodels output.</div>\n</div>\n```\n:::\n:::\n\n\nThe reduced supervised-PCA model explains most variance in life expectancy ($R^2 \\approx 0.97$) with low in-sample error (RMSE $\\approx$ 1.36). All retained PCs are statistically significant at 5%, indicating that the supervised PCA basis concentrates signal across multiple orthogonal axes rather than a single dominant factor.\n:::\n\n\n:::{.callout-note collapse=\"false\"}\n\n### Stepwise AIC model selection\n\nInstead of using all significant PCs, we can also run stepwise AIC selection among the PCs to find a more parsimonious subset.\n\n::: {#cell-supervised-pca-stepwise .cell tbl-cap='Stepwise AIC regression (PCs only).' execution_count=8}\n``` {.python .cell-code code-fold=\"false\"}\nstepwise_paths, stepwise_best_map, stepwise_compare = registry.run_selection_grid(\n    train_pca_df,\n    base_terms=[],\n    candidates=pc_train.columns.astype(str).tolist(),\n    criteria=[\"aic\"],\n    thresholds={\"aic\": 1.0},\n    name_prefix=\"m_stepwise\",\n    refit=True,\n)\nspca_stepwise_name = stepwise_best_map.loc[0, \"model\"]\nspca_stepwise = registry.get(spca_stepwise_name).diag\ndisplay(spca_stepwise)\n```\n\n::: {#supervised-pca-stepwise .cell-output .cell-output-display}\n```{=html}\n\n<style>\n  .rr-wrap {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    font-size: 12px;\n    line-height: 1.4;\n    border: 1px solid #e3e3e3;\n    border-radius: 6px;\n    padding: 12px 14px;\n    background: #fbfbfb;\n    color: #111;\n  }\n  .rr-title {\n    font-weight: 700;\n    color: #0f172a;\n    margin-bottom: 6px;\n  }\n  .rr-sub {\n    color: #64748b;\n    margin-bottom: 8px;\n  }\n  .rr-formula {\n    margin-bottom: 8px;\n  }\n  .rr-section {\n    margin-top: 10px;\n  }\n  .rr-label {\n    color: #0f766e;\n    font-weight: 600;\n  }\n  .rr-kv {\n    margin: 2px 0;\n  }\n  .rr-ok { color: #0f766e; }\n  .rr-warn { color: #b45309; }\n  .rr-bad { color: #b91c1c; }\n  .rr-note {\n    margin-top: 10px;\n    color: #475569;\n  }\n  .rr-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 10px;\n  }\n  .rr-card {\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    background: #ffffff;\n  }\n  .rr-card .rr-label {\n    margin-bottom: 4px;\n  }\n  .rr-pre {\n    background: #ffffff;\n    color: #111;\n    padding: 10px 12px;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    margin: 6px 0 0 0;\n  }\n  .rr-summary {\n    margin-top: 6px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    overflow-x: auto;\n  }\n  .rr-summary table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 11px;\n  }\n  .rr-summary th, .rr-summary td {\n    padding: 3px 6px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  .rr-summary th {\n    text-align: left;\n    color: #0f172a;\n  }\n  details.rr-details {\n    margin-top: 10px;\n  }\n  details.rr-details > summary {\n    cursor: pointer;\n    color: #0f766e;\n    font-weight: 600;\n  }\n</style>\n<div class=\"rr-wrap\">\n  <div class=\"rr-title\">RegressionResult</div>\n  <div class=\"rr-sub\">Model: RegressionResultsWrapper | Observations: 179 | Params: 16</div>\n  <div class=\"rr-formula\"><span class=\"rr-label\">Formula</span>: life_expectancy ~ supervised_PC1 + supervised_PC3 + supervised_PC10 + supervised_PC4 + supervised_PC8 + supervised_PC5 + supervised_PC11 + supervised_PC14 + supervised_PC13 + supervised_PC6 + supervised_PC17 + supervised_PC9 + supervised_PC7 + supervised_PC12 + supervised_PC2</div>\n\n  <div class=\"rr-section rr-grid\">\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Fit metrics</div>\n      <div class=\"rr-kv\">r2=0.972 | adj_r2=0.970</div>\n      <div class=\"rr-kv\">rmse=1.342 | mae=1.023 | mape=0.015</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Information criteria</div>\n      <div class=\"rr-kv\">aic=645.300 | aicc=648.658</div>\n      <div class=\"rr-kv\">bic=696.299 | mdl=348.149</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Cross-validation</div>\n      <div class=\"rr-kv\">cv_rmse=nan | folds=0</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Diagnostics</div>\n      <div class=\"rr-kv\">dw=2.153</div>\n      <div class=\"rr-kv\">jb_p=<span class=\"rr-bad\">0.003</span> | shapiro_p=<span class=\"rr-ok\">0.079</span></div>\n      <div class=\"rr-kv\">bp_p=<span class=\"rr-bad\">0.004</span> | white_p=<span class=\"rr-ok\">0.174</span></div>\n      <div class=\"rr-kv\">max_vif=1.000 | max_cooks=0.379</div>\n    </div>\n  </div>\n\n  <details class=\"rr-details\" open>\n    <summary>Statsmodels OLS summary</summary>\n    <div class=\"rr-summary\"><table class=\"simpletable\">\n<caption>OLS Regression Results</caption>\n<tr>\n  <th>Dep. Variable:</th>     <td>life_expectancy</td> <th>  R-squared:         </th> <td>   0.972</td> \n</tr>\n<tr>\n  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.970</td> \n</tr>\n<tr>\n  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   378.4</td> \n</tr>\n<tr>\n  <th>Date:</th>             <td>Sun, 18 Jan 2026</td> <th>  Prob (F-statistic):</th> <td>3.39e-118</td>\n</tr>\n<tr>\n  <th>Time:</th>                 <td>19:05:58</td>     <th>  Log-Likelihood:    </th> <td> -306.65</td> \n</tr>\n<tr>\n  <th>No. Observations:</th>      <td>   179</td>      <th>  AIC:               </th> <td>   645.3</td> \n</tr>\n<tr>\n  <th>Df Residuals:</th>          <td>   163</td>      <th>  BIC:               </th> <td>   696.3</td> \n</tr>\n<tr>\n  <th>Df Model:</th>              <td>    15</td>      <th>                     </th>     <td> </td>    \n</tr>\n<tr>\n  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    \n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n         <td></td>            <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  \n</tr>\n<tr>\n  <th>Intercept</th>       <td>   71.2168</td> <td>    0.105</td> <td>  677.502</td> <td> 0.000</td> <td>   71.009</td> <td>   71.424</td>\n</tr>\n<tr>\n  <th>supervised_PC1</th>  <td>   -2.5436</td> <td>    0.037</td> <td>  -69.323</td> <td> 0.000</td> <td>   -2.616</td> <td>   -2.471</td>\n</tr>\n<tr>\n  <th>supervised_PC3</th>  <td>   -1.7736</td> <td>    0.089</td> <td>  -19.967</td> <td> 0.000</td> <td>   -1.949</td> <td>   -1.598</td>\n</tr>\n<tr>\n  <th>supervised_PC10</th> <td>   -2.1998</td> <td>    0.225</td> <td>   -9.777</td> <td> 0.000</td> <td>   -2.644</td> <td>   -1.755</td>\n</tr>\n<tr>\n  <th>supervised_PC4</th>  <td>   -0.9303</td> <td>    0.103</td> <td>   -9.017</td> <td> 0.000</td> <td>   -1.134</td> <td>   -0.727</td>\n</tr>\n<tr>\n  <th>supervised_PC8</th>  <td>    1.1665</td> <td>    0.152</td> <td>    7.690</td> <td> 0.000</td> <td>    0.867</td> <td>    1.466</td>\n</tr>\n<tr>\n  <th>supervised_PC5</th>  <td>    0.8159</td> <td>    0.111</td> <td>    7.372</td> <td> 0.000</td> <td>    0.597</td> <td>    1.034</td>\n</tr>\n<tr>\n  <th>supervised_PC11</th> <td>   -1.8046</td> <td>    0.264</td> <td>   -6.844</td> <td> 0.000</td> <td>   -2.325</td> <td>   -1.284</td>\n</tr>\n<tr>\n  <th>supervised_PC14</th> <td>   -2.4119</td> <td>    0.358</td> <td>   -6.732</td> <td> 0.000</td> <td>   -3.119</td> <td>   -1.704</td>\n</tr>\n<tr>\n  <th>supervised_PC13</th> <td>    1.7283</td> <td>    0.332</td> <td>    5.207</td> <td> 0.000</td> <td>    1.073</td> <td>    2.384</td>\n</tr>\n<tr>\n  <th>supervised_PC6</th>  <td>    0.5433</td> <td>    0.120</td> <td>    4.543</td> <td> 0.000</td> <td>    0.307</td> <td>    0.779</td>\n</tr>\n<tr>\n  <th>supervised_PC17</th> <td>  -11.9726</td> <td>    2.645</td> <td>   -4.526</td> <td> 0.000</td> <td>  -17.196</td> <td>   -6.749</td>\n</tr>\n<tr>\n  <th>supervised_PC9</th>  <td>    0.4543</td> <td>    0.174</td> <td>    2.616</td> <td> 0.010</td> <td>    0.111</td> <td>    0.797</td>\n</tr>\n<tr>\n  <th>supervised_PC7</th>  <td>   -0.3131</td> <td>    0.134</td> <td>   -2.336</td> <td> 0.021</td> <td>   -0.578</td> <td>   -0.048</td>\n</tr>\n<tr>\n  <th>supervised_PC12</th> <td>   -0.6845</td> <td>    0.294</td> <td>   -2.332</td> <td> 0.021</td> <td>   -1.264</td> <td>   -0.105</td>\n</tr>\n<tr>\n  <th>supervised_PC2</th>  <td>   -0.1320</td> <td>    0.068</td> <td>   -1.955</td> <td> 0.052</td> <td>   -0.265</td> <td>    0.001</td>\n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n  <th>Omnibus:</th>       <td> 8.682</td> <th>  Durbin-Watson:     </th> <td>   2.153</td>\n</tr>\n<tr>\n  <th>Prob(Omnibus):</th> <td> 0.013</td> <th>  Jarque-Bera (JB):  </th> <td>  11.403</td>\n</tr>\n<tr>\n  <th>Skew:</th>          <td> 0.318</td> <th>  Prob(JB):          </th> <td> 0.00334</td>\n</tr>\n<tr>\n  <th>Kurtosis:</th>      <td> 4.060</td> <th>  Cond. No.          </th> <td>    72.1</td>\n</tr>\n</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>\n  </details>\n\n  <details class=\"rr-details\" open>\n    <summary>Assumption checks (full)</summary>\n    <pre class=\"rr-pre\">AssumptionCheckResult(\n  Normality: JB(stat=11.40, p=0.003, FAIL); Shapiro/AD(stat=0.99, p=0.079, OK)\n  Homoscedasticity: BP(stat=33.51, p=0.004, FAIL); White(stat=150.27, p=0.174, OK)\n  Autocorrelation: Durbin-Watson=2.15 (OK)\n  Collinearity: cond#=72.09, max_vif=1.00, mean_vif=1.00\n  Influence: max_leverage=0.324, max_cook=0.379, cooks&gt;4/n=14\n)</pre>\n  </details>\n\n  <div class=\"rr-note\">Tip: call <code>print_summary()</code> for the full statsmodels output.</div>\n</div>\n```\n:::\n:::\n\n\nThe stepwise AIC model is only marginally different from the reduced model (AIC $\\approx$ 645 vs 647), adding PC2 (borderline $p \\approx 0.052$). This suggests the reduced model is already near the AIC optimum while keeping the specification simpler.\n\n:::\n\n\n:::{.callout-note collapse=\"false\"}\n### Interaction-augmented fit\n\nWe continue by considering pairwise interactions among the top PCs (by |t|) in the reduced supervised-PCA model. Each candidate interaction is screened by its individual p-value and AIC improvement when added to the set of potential terms which are subsequently considered in another stepwise AIC selection.\n\n::: {#cell-supervised-pca-interactions .cell tbl-cap='Interaction-augmented regression (screened PC interactions).' execution_count=9}\n``` {.python .cell-code code-fold=\"true\"}\nimport statsmodels.formula.api as smf\nfrom itertools import combinations\n\ntop_k = 6\ntvals = spca_reduced.model.tvalues.drop(\"Intercept\").abs().sort_values(ascending=False)\ntop_pcs = tvals.head(top_k).index.tolist()\n\nbase_rhs = rhs_pca_reduced\nbase_aic = spca_reduced.metrics.aic\nscreen_rows = []\nfor pc_a, pc_b in combinations(top_pcs, 2):\n    term = f\"{pc_a}:{pc_b}\"\n    rhs = f\"{base_rhs} + {term}\"\n    model = smf.ols(f\"{LECol.TARGET} ~ {rhs}\", data=train_pca_df).fit()\n    screen_rows.append(\n        {\n            \"term\": term,\n            \"pval\": float(model.pvalues.get(term, np.nan)),\n            \"delta_aic\": float(model.aic - base_aic),\n        }\n    )\n\nscreen_df = pd.DataFrame(screen_rows)\nif screen_df.empty:\n    interaction_candidates = []\nelse:\n    screen_df = screen_df.sort_values(\"delta_aic\")\n    interaction_candidates = (\n        screen_df.query(\"pval < 0.05 and delta_aic < 0\").head(5)[\"term\"].tolist()\n    )\n    if not interaction_candidates:\n        interaction_candidates = screen_df.head(3)[\"term\"].tolist()\n\ninteraction_paths, interaction_best_map, interaction_compare = (\n    registry.run_selection_grid(\n        train_pca_df,\n        base_terms=sig_pcs,\n        candidates=interaction_candidates,\n        directions=[\"stepwise\"],\n        criteria=[\"aic\"],\n        thresholds={\"aic\": 1.0},\n        name_prefix=\"m_inter\",\n        refit=True,\n    )\n)\nspca_interactions_name = interaction_best_map.loc[0, \"model\"]\nspca_interactions = registry.get(spca_interactions_name).diag\ndisplay(spca_interactions)\n```\n\n::: {#supervised-pca-interactions .cell-output .cell-output-display}\n```{=html}\n\n<style>\n  .rr-wrap {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    font-size: 12px;\n    line-height: 1.4;\n    border: 1px solid #e3e3e3;\n    border-radius: 6px;\n    padding: 12px 14px;\n    background: #fbfbfb;\n    color: #111;\n  }\n  .rr-title {\n    font-weight: 700;\n    color: #0f172a;\n    margin-bottom: 6px;\n  }\n  .rr-sub {\n    color: #64748b;\n    margin-bottom: 8px;\n  }\n  .rr-formula {\n    margin-bottom: 8px;\n  }\n  .rr-section {\n    margin-top: 10px;\n  }\n  .rr-label {\n    color: #0f766e;\n    font-weight: 600;\n  }\n  .rr-kv {\n    margin: 2px 0;\n  }\n  .rr-ok { color: #0f766e; }\n  .rr-warn { color: #b45309; }\n  .rr-bad { color: #b91c1c; }\n  .rr-note {\n    margin-top: 10px;\n    color: #475569;\n  }\n  .rr-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 10px;\n  }\n  .rr-card {\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    background: #ffffff;\n  }\n  .rr-card .rr-label {\n    margin-bottom: 4px;\n  }\n  .rr-pre {\n    background: #ffffff;\n    color: #111;\n    padding: 10px 12px;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    margin: 6px 0 0 0;\n  }\n  .rr-summary {\n    margin-top: 6px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    overflow-x: auto;\n  }\n  .rr-summary table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 11px;\n  }\n  .rr-summary th, .rr-summary td {\n    padding: 3px 6px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  .rr-summary th {\n    text-align: left;\n    color: #0f172a;\n  }\n  details.rr-details {\n    margin-top: 10px;\n  }\n  details.rr-details > summary {\n    cursor: pointer;\n    color: #0f766e;\n    font-weight: 600;\n  }\n</style>\n<div class=\"rr-wrap\">\n  <div class=\"rr-title\">RegressionResult</div>\n  <div class=\"rr-sub\">Model: RegressionResultsWrapper | Observations: 179 | Params: 18</div>\n  <div class=\"rr-formula\"><span class=\"rr-label\">Formula</span>: life_expectancy ~ supervised_PC1 + supervised_PC3 + supervised_PC4 + supervised_PC5 + supervised_PC6 + supervised_PC7 + supervised_PC8 + supervised_PC9 + supervised_PC10 + supervised_PC11 + supervised_PC12 + supervised_PC13 + supervised_PC14 + supervised_PC17 + supervised_PC3:supervised_PC4 + supervised_PC3:supervised_PC10 + supervised_PC10:supervised_PC4</div>\n\n  <div class=\"rr-section rr-grid\">\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Fit metrics</div>\n      <div class=\"rr-kv\">r2=0.975 | adj_r2=0.973</div>\n      <div class=\"rr-kv\">rmse=1.265 | mae=1.010 | mape=0.015</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Information criteria</div>\n      <div class=\"rr-kv\">aic=628.022 | aicc=632.297</div>\n      <div class=\"rr-kv\">bic=685.395 | mdl=342.697</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Cross-validation</div>\n      <div class=\"rr-kv\">cv_rmse=nan | folds=0</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Diagnostics</div>\n      <div class=\"rr-kv\">dw=2.218</div>\n      <div class=\"rr-kv\">jb_p=<span class=\"rr-ok\">0.747</span> | shapiro_p=<span class=\"rr-ok\">0.577</span></div>\n      <div class=\"rr-kv\">bp_p=<span class=\"rr-warn\">0.036</span> | white_p=<span class=\"rr-ok\">0.306</span></div>\n      <div class=\"rr-kv\">max_vif=1.875 | max_cooks=0.417</div>\n    </div>\n  </div>\n\n  <details class=\"rr-details\" open>\n    <summary>Statsmodels OLS summary</summary>\n    <div class=\"rr-summary\"><table class=\"simpletable\">\n<caption>OLS Regression Results</caption>\n<tr>\n  <th>Dep. Variable:</th>     <td>life_expectancy</td> <th>  R-squared:         </th> <td>   0.975</td> \n</tr>\n<tr>\n  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.973</td> \n</tr>\n<tr>\n  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   372.7</td> \n</tr>\n<tr>\n  <th>Date:</th>             <td>Sun, 18 Jan 2026</td> <th>  Prob (F-statistic):</th> <td>9.18e-120</td>\n</tr>\n<tr>\n  <th>Time:</th>                 <td>19:05:58</td>     <th>  Log-Likelihood:    </th> <td> -296.01</td> \n</tr>\n<tr>\n  <th>No. Observations:</th>      <td>   179</td>      <th>  AIC:               </th> <td>   628.0</td> \n</tr>\n<tr>\n  <th>Df Residuals:</th>          <td>   161</td>      <th>  BIC:               </th> <td>   685.4</td> \n</tr>\n<tr>\n  <th>Df Model:</th>              <td>    17</td>      <th>                     </th>     <td> </td>    \n</tr>\n<tr>\n  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    \n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n                 <td></td>                   <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  \n</tr>\n<tr>\n  <th>Intercept</th>                      <td>   71.2168</td> <td>    0.100</td> <td>  714.567</td> <td> 0.000</td> <td>   71.020</td> <td>   71.414</td>\n</tr>\n<tr>\n  <th>supervised_PC1</th>                 <td>   -2.6128</td> <td>    0.039</td> <td>  -67.770</td> <td> 0.000</td> <td>   -2.689</td> <td>   -2.537</td>\n</tr>\n<tr>\n  <th>supervised_PC3</th>                 <td>   -2.0245</td> <td>    0.112</td> <td>  -18.133</td> <td> 0.000</td> <td>   -2.245</td> <td>   -1.804</td>\n</tr>\n<tr>\n  <th>supervised_PC4</th>                 <td>   -1.0896</td> <td>    0.104</td> <td>  -10.499</td> <td> 0.000</td> <td>   -1.295</td> <td>   -0.885</td>\n</tr>\n<tr>\n  <th>supervised_PC5</th>                 <td>    0.7909</td> <td>    0.107</td> <td>    7.378</td> <td> 0.000</td> <td>    0.579</td> <td>    1.003</td>\n</tr>\n<tr>\n  <th>supervised_PC6</th>                 <td>    0.5613</td> <td>    0.117</td> <td>    4.817</td> <td> 0.000</td> <td>    0.331</td> <td>    0.791</td>\n</tr>\n<tr>\n  <th>supervised_PC7</th>                 <td>   -0.4452</td> <td>    0.130</td> <td>   -3.414</td> <td> 0.001</td> <td>   -0.703</td> <td>   -0.188</td>\n</tr>\n<tr>\n  <th>supervised_PC8</th>                 <td>    1.0743</td> <td>    0.149</td> <td>    7.220</td> <td> 0.000</td> <td>    0.780</td> <td>    1.368</td>\n</tr>\n<tr>\n  <th>supervised_PC9</th>                 <td>    0.6912</td> <td>    0.178</td> <td>    3.876</td> <td> 0.000</td> <td>    0.339</td> <td>    1.043</td>\n</tr>\n<tr>\n  <th>supervised_PC10</th>                <td>   -2.0024</td> <td>    0.219</td> <td>   -9.130</td> <td> 0.000</td> <td>   -2.436</td> <td>   -1.569</td>\n</tr>\n<tr>\n  <th>supervised_PC11</th>                <td>   -1.8362</td> <td>    0.251</td> <td>   -7.327</td> <td> 0.000</td> <td>   -2.331</td> <td>   -1.341</td>\n</tr>\n<tr>\n  <th>supervised_PC12</th>                <td>   -0.6627</td> <td>    0.285</td> <td>   -2.325</td> <td> 0.021</td> <td>   -1.226</td> <td>   -0.100</td>\n</tr>\n<tr>\n  <th>supervised_PC13</th>                <td>    1.4468</td> <td>    0.329</td> <td>    4.400</td> <td> 0.000</td> <td>    0.797</td> <td>    2.096</td>\n</tr>\n<tr>\n  <th>supervised_PC14</th>                <td>   -2.2251</td> <td>    0.346</td> <td>   -6.438</td> <td> 0.000</td> <td>   -2.908</td> <td>   -1.543</td>\n</tr>\n<tr>\n  <th>supervised_PC17</th>                <td>  -11.1604</td> <td>    2.617</td> <td>   -4.265</td> <td> 0.000</td> <td>  -16.327</td> <td>   -5.993</td>\n</tr>\n<tr>\n  <th>supervised_PC3:supervised_PC4</th>  <td>    0.2570</td> <td>    0.073</td> <td>    3.502</td> <td> 0.001</td> <td>    0.112</td> <td>    0.402</td>\n</tr>\n<tr>\n  <th>supervised_PC3:supervised_PC10</th> <td>   -0.6877</td> <td>    0.254</td> <td>   -2.703</td> <td> 0.008</td> <td>   -1.190</td> <td>   -0.185</td>\n</tr>\n<tr>\n  <th>supervised_PC10:supervised_PC4</th> <td>    0.5906</td> <td>    0.250</td> <td>    2.363</td> <td> 0.019</td> <td>    0.097</td> <td>    1.084</td>\n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n  <th>Omnibus:</th>       <td> 0.918</td> <th>  Durbin-Watson:     </th> <td>   2.218</td>\n</tr>\n<tr>\n  <th>Prob(Omnibus):</th> <td> 0.632</td> <th>  Jarque-Bera (JB):  </th> <td>   0.582</td>\n</tr>\n<tr>\n  <th>Skew:</th>          <td> 0.091</td> <th>  Prob(JB):          </th> <td>   0.747</td>\n</tr>\n<tr>\n  <th>Kurtosis:</th>      <td> 3.211</td> <th>  Cond. No.          </th> <td>    77.0</td>\n</tr>\n</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>\n  </details>\n\n  <details class=\"rr-details\" open>\n    <summary>Assumption checks (full)</summary>\n    <pre class=\"rr-pre\">AssumptionCheckResult(\n  Normality: JB(stat=0.58, p=0.747, OK); Shapiro/AD(stat=0.99, p=0.577, OK)\n  Homoscedasticity: BP(stat=28.86, p=0.036, FAIL); White(stat=173.70, p=0.306, OK)\n  Autocorrelation: Durbin-Watson=2.22 (OK)\n  Collinearity: cond#=77.01, max_vif=1.87, mean_vif=1.21\n  Influence: max_leverage=0.427, max_cook=0.417, cooks&gt;4/n=12\n)</pre>\n  </details>\n\n  <div class=\"rr-note\">Tip: call <code>print_summary()</code> for the full statsmodels output.</div>\n</div>\n```\n:::\n:::\n\n\nThe resulting interaction-augmented model improves AIC substantially (AIC $\\approx$ 528 vs 645) and adds three significant interactions.\n\n:::\n\n:::{.callout-note collapse=\"false\"}\n### Cook's distance trim (interaction model)\n\nWe proceed by trimming influential points from the interaction model using Cook's distance (threshold $4/n$). This removes points that have a disproportionate influence on the fit, stabilizing inference and diagnostics.\n\n::: {#cell-supervised-pca-cooks .cell execution_count=10}\n``` {.python .cell-code code-fold=\"true\"}\ncooks_thresh = 4 / len(train_pca_df)\nspca_cooks_initial, spca_cooks = registry.fit(\n    train_pca_df,\n    name=\"m_inter_trim\",\n    rhs=registry.get(spca_interactions_name).rhs,\n    refit=True,\n    cook_distance_threshold=cooks_thresh,\n)\nregistry.remove(\"m_inter_trim_initial\")  # keep only final trimmed model in registry\nremoved = len(spca_cooks_initial.design_matrix) - len(spca_cooks.design_matrix)\nprint(f\"Cook's threshold: {cooks_thresh:.4f} | removed: {removed}\")\ndisplay(spca_cooks)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCook's threshold: 0.0223 | removed: 12\n```\n:::\n\n::: {#supervised-pca-cooks .cell-output .cell-output-display}\n```{=html}\n\n<style>\n  .rr-wrap {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    font-size: 12px;\n    line-height: 1.4;\n    border: 1px solid #e3e3e3;\n    border-radius: 6px;\n    padding: 12px 14px;\n    background: #fbfbfb;\n    color: #111;\n  }\n  .rr-title {\n    font-weight: 700;\n    color: #0f172a;\n    margin-bottom: 6px;\n  }\n  .rr-sub {\n    color: #64748b;\n    margin-bottom: 8px;\n  }\n  .rr-formula {\n    margin-bottom: 8px;\n  }\n  .rr-section {\n    margin-top: 10px;\n  }\n  .rr-label {\n    color: #0f766e;\n    font-weight: 600;\n  }\n  .rr-kv {\n    margin: 2px 0;\n  }\n  .rr-ok { color: #0f766e; }\n  .rr-warn { color: #b45309; }\n  .rr-bad { color: #b91c1c; }\n  .rr-note {\n    margin-top: 10px;\n    color: #475569;\n  }\n  .rr-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 10px;\n  }\n  .rr-card {\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    background: #ffffff;\n  }\n  .rr-card .rr-label {\n    margin-bottom: 4px;\n  }\n  .rr-pre {\n    background: #ffffff;\n    color: #111;\n    padding: 10px 12px;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    margin: 6px 0 0 0;\n  }\n  .rr-summary {\n    margin-top: 6px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    overflow-x: auto;\n  }\n  .rr-summary table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 11px;\n  }\n  .rr-summary th, .rr-summary td {\n    padding: 3px 6px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  .rr-summary th {\n    text-align: left;\n    color: #0f172a;\n  }\n  details.rr-details {\n    margin-top: 10px;\n  }\n  details.rr-details > summary {\n    cursor: pointer;\n    color: #0f766e;\n    font-weight: 600;\n  }\n</style>\n<div class=\"rr-wrap\">\n  <div class=\"rr-title\">RegressionResult</div>\n  <div class=\"rr-sub\">Model: RegressionResultsWrapper | Observations: 167 | Params: 18</div>\n  <div class=\"rr-formula\"><span class=\"rr-label\">Formula</span>: life_expectancy ~ supervised_PC1 + supervised_PC3 + supervised_PC4 + supervised_PC5 + supervised_PC6 + supervised_PC7 + supervised_PC8 + supervised_PC9 + supervised_PC10 + supervised_PC11 + supervised_PC12 + supervised_PC13 + supervised_PC14 + supervised_PC17 + supervised_PC3:supervised_PC4 + supervised_PC3:supervised_PC10 + supervised_PC10:supervised_PC4</div>\n\n  <div class=\"rr-section rr-grid\">\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Fit metrics</div>\n      <div class=\"rr-kv\">r2=0.981 | adj_r2=0.979</div>\n      <div class=\"rr-kv\">rmse=1.078 | mae=0.872 | mape=0.012</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Information criteria</div>\n      <div class=\"rr-kv\">aic=535.063 | aicc=539.685</div>\n      <div class=\"rr-kv\">bic=591.187 | mdl=295.594</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Cross-validation</div>\n      <div class=\"rr-kv\">cv_rmse=nan | folds=0</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Diagnostics</div>\n      <div class=\"rr-kv\">dw=2.079</div>\n      <div class=\"rr-kv\">jb_p=<span class=\"rr-ok\">0.687</span> | shapiro_p=<span class=\"rr-ok\">0.749</span></div>\n      <div class=\"rr-kv\">bp_p=<span class=\"rr-ok\">0.172</span> | white_p=<span class=\"rr-ok\">0.442</span></div>\n      <div class=\"rr-kv\">max_vif=1.727 | max_cooks=0.050</div>\n    </div>\n  </div>\n\n  <details class=\"rr-details\" open>\n    <summary>Statsmodels OLS summary</summary>\n    <div class=\"rr-summary\"><table class=\"simpletable\">\n<caption>OLS Regression Results</caption>\n<tr>\n  <th>Dep. Variable:</th>     <td>life_expectancy</td> <th>  R-squared:         </th> <td>   0.981</td> \n</tr>\n<tr>\n  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.979</td> \n</tr>\n<tr>\n  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   458.2</td> \n</tr>\n<tr>\n  <th>Date:</th>             <td>Sun, 18 Jan 2026</td> <th>  Prob (F-statistic):</th> <td>2.41e-119</td>\n</tr>\n<tr>\n  <th>Time:</th>                 <td>19:05:58</td>     <th>  Log-Likelihood:    </th> <td> -249.53</td> \n</tr>\n<tr>\n  <th>No. Observations:</th>      <td>   167</td>      <th>  AIC:               </th> <td>   535.1</td> \n</tr>\n<tr>\n  <th>Df Residuals:</th>          <td>   149</td>      <th>  BIC:               </th> <td>   591.2</td> \n</tr>\n<tr>\n  <th>Df Model:</th>              <td>    17</td>      <th>                     </th>     <td> </td>    \n</tr>\n<tr>\n  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    \n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n                 <td></td>                   <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  \n</tr>\n<tr>\n  <th>Intercept</th>                      <td>   71.2407</td> <td>    0.089</td> <td>  798.793</td> <td> 0.000</td> <td>   71.064</td> <td>   71.417</td>\n</tr>\n<tr>\n  <th>supervised_PC1</th>                 <td>   -2.6005</td> <td>    0.035</td> <td>  -75.196</td> <td> 0.000</td> <td>   -2.669</td> <td>   -2.532</td>\n</tr>\n<tr>\n  <th>supervised_PC3</th>                 <td>   -1.8222</td> <td>    0.102</td> <td>  -17.777</td> <td> 0.000</td> <td>   -2.025</td> <td>   -1.620</td>\n</tr>\n<tr>\n  <th>supervised_PC4</th>                 <td>   -1.0047</td> <td>    0.099</td> <td>  -10.152</td> <td> 0.000</td> <td>   -1.200</td> <td>   -0.809</td>\n</tr>\n<tr>\n  <th>supervised_PC5</th>                 <td>    0.8417</td> <td>    0.100</td> <td>    8.407</td> <td> 0.000</td> <td>    0.644</td> <td>    1.040</td>\n</tr>\n<tr>\n  <th>supervised_PC6</th>                 <td>    0.6282</td> <td>    0.106</td> <td>    5.941</td> <td> 0.000</td> <td>    0.419</td> <td>    0.837</td>\n</tr>\n<tr>\n  <th>supervised_PC7</th>                 <td>   -0.4292</td> <td>    0.127</td> <td>   -3.382</td> <td> 0.001</td> <td>   -0.680</td> <td>   -0.178</td>\n</tr>\n<tr>\n  <th>supervised_PC8</th>                 <td>    1.1429</td> <td>    0.141</td> <td>    8.106</td> <td> 0.000</td> <td>    0.864</td> <td>    1.422</td>\n</tr>\n<tr>\n  <th>supervised_PC9</th>                 <td>    0.6873</td> <td>    0.160</td> <td>    4.292</td> <td> 0.000</td> <td>    0.371</td> <td>    1.004</td>\n</tr>\n<tr>\n  <th>supervised_PC10</th>                <td>   -2.1319</td> <td>    0.215</td> <td>   -9.908</td> <td> 0.000</td> <td>   -2.557</td> <td>   -1.707</td>\n</tr>\n<tr>\n  <th>supervised_PC11</th>                <td>   -2.1127</td> <td>    0.239</td> <td>   -8.823</td> <td> 0.000</td> <td>   -2.586</td> <td>   -1.640</td>\n</tr>\n<tr>\n  <th>supervised_PC12</th>                <td>   -0.3593</td> <td>    0.259</td> <td>   -1.389</td> <td> 0.167</td> <td>   -0.870</td> <td>    0.152</td>\n</tr>\n<tr>\n  <th>supervised_PC13</th>                <td>    1.2691</td> <td>    0.298</td> <td>    4.261</td> <td> 0.000</td> <td>    0.681</td> <td>    1.858</td>\n</tr>\n<tr>\n  <th>supervised_PC14</th>                <td>   -2.3614</td> <td>    0.304</td> <td>   -7.760</td> <td> 0.000</td> <td>   -2.963</td> <td>   -1.760</td>\n</tr>\n<tr>\n  <th>supervised_PC17</th>                <td>  -13.3467</td> <td>    2.573</td> <td>   -5.187</td> <td> 0.000</td> <td>  -18.431</td> <td>   -8.262</td>\n</tr>\n<tr>\n  <th>supervised_PC3:supervised_PC4</th>  <td>    0.3238</td> <td>    0.082</td> <td>    3.950</td> <td> 0.000</td> <td>    0.162</td> <td>    0.486</td>\n</tr>\n<tr>\n  <th>supervised_PC3:supervised_PC10</th> <td>   -0.3984</td> <td>    0.238</td> <td>   -1.675</td> <td> 0.096</td> <td>   -0.868</td> <td>    0.072</td>\n</tr>\n<tr>\n  <th>supervised_PC10:supervised_PC4</th> <td>    0.4757</td> <td>    0.238</td> <td>    1.996</td> <td> 0.048</td> <td>    0.005</td> <td>    0.947</td>\n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n  <th>Omnibus:</th>       <td> 0.621</td> <th>  Durbin-Watson:     </th> <td>   2.079</td>\n</tr>\n<tr>\n  <th>Prob(Omnibus):</th> <td> 0.733</td> <th>  Jarque-Bera (JB):  </th> <td>   0.752</td>\n</tr>\n<tr>\n  <th>Skew:</th>          <td>-0.084</td> <th>  Prob(JB):          </th> <td>   0.687</td>\n</tr>\n<tr>\n  <th>Kurtosis:</th>      <td> 2.718</td> <th>  Cond. No.          </th> <td>    85.0</td>\n</tr>\n</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>\n  </details>\n\n  <details class=\"rr-details\" open>\n    <summary>Assumption checks (full)</summary>\n    <pre class=\"rr-pre\">AssumptionCheckResult(\n  Normality: JB(stat=0.75, p=0.687, OK); Shapiro/AD(stat=0.99, p=0.749, OK)\n  Homoscedasticity: BP(stat=22.33, p=0.172, OK); White(stat=166.99, p=0.442, OK)\n  Autocorrelation: Durbin-Watson=2.08 (OK)\n  Collinearity: cond#=84.98, max_vif=1.73, mean_vif=1.22\n  Influence: max_leverage=0.505, max_cook=0.050, cooks&gt;4/n=9\n)</pre>\n  </details>\n\n  <div class=\"rr-note\">Tip: call <code>print_summary()</code> for the full statsmodels output.</div>\n</div>\n```\n:::\n:::\n\n\nThe Cook's-distance trimming step resulted in the removal of 12 data points (countries) and yielded a reduction in AIC of 93 points to 535, which indicates a substantial improvement in model fit and stability; However, we acknowledge that this is a sensitivity analysis rather than a principled exclusion without substantive justification for the removed countries. However, the trimmed model now contains two non-significant terms (`supervised_PC12` and `supervised_PC3:supervised_PC10`).\n\n:::\n\n:::{.callout-note collapse=\"false\"}\n### Final model specification (trimmed)\n\nThe final step is to remove the two non-significant terms from the Cook's-trimmed interaction model to yield the final specification, which is then refit on the trimmed data.\n\n::: {#e313a34f .cell execution_count=11}\n``` {.python .cell-code}\nfinal_formula = (\n    registry.get(spca_interactions_name)\n    .rhs.replace(\" + supervised_PC12\", \"\")\n    .replace(\" + supervised_PC3:supervised_PC10\", \"\")\n)\ncooks_thresh = 4 / len(train_pca_df)\nspca_cooks_initial, spca_final = registry.fit(\n    train_pca_df,\n    name=\"m_final\",\n    rhs=final_formula,\n    refit=True,\n    cook_distance_threshold=cooks_thresh,\n)\nregistry.remove(\"m_final_initial\")  # keep only final trimmed model in registry\nremoved = len(spca_cooks_initial.design_matrix) - len(spca_final.design_matrix)\n\ndisplay(spca_final)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n\n<style>\n  .rr-wrap {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    font-size: 12px;\n    line-height: 1.4;\n    border: 1px solid #e3e3e3;\n    border-radius: 6px;\n    padding: 12px 14px;\n    background: #fbfbfb;\n    color: #111;\n  }\n  .rr-title {\n    font-weight: 700;\n    color: #0f172a;\n    margin-bottom: 6px;\n  }\n  .rr-sub {\n    color: #64748b;\n    margin-bottom: 8px;\n  }\n  .rr-formula {\n    margin-bottom: 8px;\n  }\n  .rr-section {\n    margin-top: 10px;\n  }\n  .rr-label {\n    color: #0f766e;\n    font-weight: 600;\n  }\n  .rr-kv {\n    margin: 2px 0;\n  }\n  .rr-ok { color: #0f766e; }\n  .rr-warn { color: #b45309; }\n  .rr-bad { color: #b91c1c; }\n  .rr-note {\n    margin-top: 10px;\n    color: #475569;\n  }\n  .rr-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 10px;\n  }\n  .rr-card {\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    background: #ffffff;\n  }\n  .rr-card .rr-label {\n    margin-bottom: 4px;\n  }\n  .rr-pre {\n    background: #ffffff;\n    color: #111;\n    padding: 10px 12px;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    margin: 6px 0 0 0;\n  }\n  .rr-summary {\n    margin-top: 6px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    overflow-x: auto;\n  }\n  .rr-summary table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 11px;\n  }\n  .rr-summary th, .rr-summary td {\n    padding: 3px 6px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  .rr-summary th {\n    text-align: left;\n    color: #0f172a;\n  }\n  details.rr-details {\n    margin-top: 10px;\n  }\n  details.rr-details > summary {\n    cursor: pointer;\n    color: #0f766e;\n    font-weight: 600;\n  }\n</style>\n<div class=\"rr-wrap\">\n  <div class=\"rr-title\">RegressionResult</div>\n  <div class=\"rr-sub\">Model: RegressionResultsWrapper | Observations: 169 | Params: 16</div>\n  <div class=\"rr-formula\"><span class=\"rr-label\">Formula</span>: life_expectancy ~ supervised_PC1 + supervised_PC3 + supervised_PC4 + supervised_PC5 + supervised_PC6 + supervised_PC7 + supervised_PC8 + supervised_PC9 + supervised_PC10 + supervised_PC11 + supervised_PC13 + supervised_PC14 + supervised_PC17 + supervised_PC3:supervised_PC4 + supervised_PC10:supervised_PC4</div>\n\n  <div class=\"rr-section rr-grid\">\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Fit metrics</div>\n      <div class=\"rr-kv\">r2=0.981 | adj_r2=0.979</div>\n      <div class=\"rr-kv\">rmse=1.066 | mae=0.866 | mape=0.012</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Information criteria</div>\n      <div class=\"rr-kv\">aic=533.222 | aicc=536.801</div>\n      <div class=\"rr-kv\">bic=583.301 | mdl=291.650</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Cross-validation</div>\n      <div class=\"rr-kv\">cv_rmse=nan | folds=0</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Diagnostics</div>\n      <div class=\"rr-kv\">dw=1.989</div>\n      <div class=\"rr-kv\">jb_p=<span class=\"rr-ok\">0.560</span> | shapiro_p=<span class=\"rr-ok\">0.774</span></div>\n      <div class=\"rr-kv\">bp_p=<span class=\"rr-warn\">0.048</span> | white_p=<span class=\"rr-ok\">0.529</span></div>\n      <div class=\"rr-kv\">max_vif=1.705 | max_cooks=0.056</div>\n    </div>\n  </div>\n\n  <details class=\"rr-details\" open>\n    <summary>Statsmodels OLS summary</summary>\n    <div class=\"rr-summary\"><table class=\"simpletable\">\n<caption>OLS Regression Results</caption>\n<tr>\n  <th>Dep. Variable:</th>     <td>life_expectancy</td> <th>  R-squared:         </th> <td>   0.981</td> \n</tr>\n<tr>\n  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.979</td> \n</tr>\n<tr>\n  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   528.7</td> \n</tr>\n<tr>\n  <th>Date:</th>             <td>Sun, 18 Jan 2026</td> <th>  Prob (F-statistic):</th> <td>1.78e-123</td>\n</tr>\n<tr>\n  <th>Time:</th>                 <td>19:05:58</td>     <th>  Log-Likelihood:    </th> <td> -250.61</td> \n</tr>\n<tr>\n  <th>No. Observations:</th>      <td>   169</td>      <th>  AIC:               </th> <td>   533.2</td> \n</tr>\n<tr>\n  <th>Df Residuals:</th>          <td>   153</td>      <th>  BIC:               </th> <td>   583.3</td> \n</tr>\n<tr>\n  <th>Df Model:</th>              <td>    15</td>      <th>                     </th>     <td> </td>    \n</tr>\n<tr>\n  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    \n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n                 <td></td>                   <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  \n</tr>\n<tr>\n  <th>Intercept</th>                      <td>   71.2368</td> <td>    0.087</td> <td>  821.676</td> <td> 0.000</td> <td>   71.065</td> <td>   71.408</td>\n</tr>\n<tr>\n  <th>supervised_PC1</th>                 <td>   -2.5886</td> <td>    0.033</td> <td>  -78.510</td> <td> 0.000</td> <td>   -2.654</td> <td>   -2.523</td>\n</tr>\n<tr>\n  <th>supervised_PC3</th>                 <td>   -1.7802</td> <td>    0.094</td> <td>  -18.923</td> <td> 0.000</td> <td>   -1.966</td> <td>   -1.594</td>\n</tr>\n<tr>\n  <th>supervised_PC4</th>                 <td>   -1.0143</td> <td>    0.088</td> <td>  -11.584</td> <td> 0.000</td> <td>   -1.187</td> <td>   -0.841</td>\n</tr>\n<tr>\n  <th>supervised_PC5</th>                 <td>    0.8564</td> <td>    0.095</td> <td>    8.974</td> <td> 0.000</td> <td>    0.668</td> <td>    1.045</td>\n</tr>\n<tr>\n  <th>supervised_PC6</th>                 <td>    0.6697</td> <td>    0.102</td> <td>    6.558</td> <td> 0.000</td> <td>    0.468</td> <td>    0.871</td>\n</tr>\n<tr>\n  <th>supervised_PC7</th>                 <td>   -0.3962</td> <td>    0.122</td> <td>   -3.254</td> <td> 0.001</td> <td>   -0.637</td> <td>   -0.156</td>\n</tr>\n<tr>\n  <th>supervised_PC8</th>                 <td>    1.1565</td> <td>    0.133</td> <td>    8.674</td> <td> 0.000</td> <td>    0.893</td> <td>    1.420</td>\n</tr>\n<tr>\n  <th>supervised_PC9</th>                 <td>    0.7531</td> <td>    0.147</td> <td>    5.131</td> <td> 0.000</td> <td>    0.463</td> <td>    1.043</td>\n</tr>\n<tr>\n  <th>supervised_PC10</th>                <td>   -2.0418</td> <td>    0.190</td> <td>  -10.773</td> <td> 0.000</td> <td>   -2.416</td> <td>   -1.667</td>\n</tr>\n<tr>\n  <th>supervised_PC11</th>                <td>   -2.1518</td> <td>    0.226</td> <td>   -9.513</td> <td> 0.000</td> <td>   -2.599</td> <td>   -1.705</td>\n</tr>\n<tr>\n  <th>supervised_PC13</th>                <td>    1.4639</td> <td>    0.279</td> <td>    5.244</td> <td> 0.000</td> <td>    0.912</td> <td>    2.015</td>\n</tr>\n<tr>\n  <th>supervised_PC14</th>                <td>   -2.6117</td> <td>    0.295</td> <td>   -8.864</td> <td> 0.000</td> <td>   -3.194</td> <td>   -2.030</td>\n</tr>\n<tr>\n  <th>supervised_PC17</th>                <td>  -13.3710</td> <td>    2.509</td> <td>   -5.330</td> <td> 0.000</td> <td>  -18.327</td> <td>   -8.415</td>\n</tr>\n<tr>\n  <th>supervised_PC3:supervised_PC4</th>  <td>    0.3626</td> <td>    0.076</td> <td>    4.798</td> <td> 0.000</td> <td>    0.213</td> <td>    0.512</td>\n</tr>\n<tr>\n  <th>supervised_PC10:supervised_PC4</th> <td>    0.4861</td> <td>    0.212</td> <td>    2.291</td> <td> 0.023</td> <td>    0.067</td> <td>    0.905</td>\n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n  <th>Omnibus:</th>       <td> 1.078</td> <th>  Durbin-Watson:     </th> <td>   1.989</td>\n</tr>\n<tr>\n  <th>Prob(Omnibus):</th> <td> 0.583</td> <th>  Jarque-Bera (JB):  </th> <td>   1.158</td>\n</tr>\n<tr>\n  <th>Skew:</th>          <td>-0.130</td> <th>  Prob(JB):          </th> <td>   0.560</td>\n</tr>\n<tr>\n  <th>Kurtosis:</th>      <td> 2.689</td> <th>  Cond. No.          </th> <td>    84.4</td>\n</tr>\n</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>\n  </details>\n\n  <details class=\"rr-details\" open>\n    <summary>Assumption checks (full)</summary>\n    <pre class=\"rr-pre\">AssumptionCheckResult(\n  Normality: JB(stat=1.16, p=0.560, OK); Shapiro/AD(stat=0.99, p=0.774, OK)\n  Homoscedasticity: BP(stat=25.14, p=0.048, FAIL); White(stat=130.17, p=0.529, OK)\n  Autocorrelation: Durbin-Watson=1.99 (OK)\n  Collinearity: cond#=84.36, max_vif=1.70, mean_vif=1.13\n  Influence: max_leverage=0.473, max_cook=0.056, cooks&gt;4/n=4\n)</pre>\n  </details>\n\n  <div class=\"rr-note\">Tip: call <code>print_summary()</code> for the full statsmodels output.</div>\n</div>\n```\n:::\n:::\n\n\nWhile the AIC increase only marginally (from 535.1 to 535.2), the final trimmed model has an improved diagnostic profile with fewer borderline significance terms. It should be noted that the refit based on the cooks-distances of the residuals removed 10 points in this step, which is fewer than the previous trimming step.\n\n:::\n\n\n### Model comparison\n\n::: {#cell-supervised-pca-compare .cell tbl-cap='Model comparison across supervised PCA variants.' execution_count=12}\n``` {.python .cell-code}\ncomp_tbl = registry.compare(sort_by=\"aic\").drop(columns=[\"rhs\"])[\n    [\"aic\", \"rmse\", \"r2\", \"adj_r2\", \"n_obs\"]\n]\ncomp_tbl\n```\n\n::: {#supervised-pca-compare .cell-output .cell-output-display execution_count=35}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>aic</th>\n      <th>rmse</th>\n      <th>r2</th>\n      <th>adj_r2</th>\n      <th>n_obs</th>\n    </tr>\n    <tr>\n      <th>model</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>m_final</th>\n      <td>533.222196</td>\n      <td>1.066058</td>\n      <td>0.981073</td>\n      <td>0.979217</td>\n      <td>169.0</td>\n    </tr>\n    <tr>\n      <th>m_inter_trim</th>\n      <td>535.063167</td>\n      <td>1.078167</td>\n      <td>0.981232</td>\n      <td>0.979091</td>\n      <td>167.0</td>\n    </tr>\n    <tr>\n      <th>m_inter_stepwise_aic</th>\n      <td>628.022024</td>\n      <td>1.264598</td>\n      <td>0.975216</td>\n      <td>0.972599</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>m_stepwise_forward_aic</th>\n      <td>645.300454</td>\n      <td>1.342041</td>\n      <td>0.972087</td>\n      <td>0.969519</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>m_stepwise_stepwise_aic</th>\n      <td>645.300454</td>\n      <td>1.342041</td>\n      <td>0.972087</td>\n      <td>0.969519</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>m_stepwise_backward_aic</th>\n      <td>645.300454</td>\n      <td>1.342041</td>\n      <td>0.972087</td>\n      <td>0.969519</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>m_spca_reduced</th>\n      <td>647.447484</td>\n      <td>1.357677</td>\n      <td>0.971433</td>\n      <td>0.968995</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>m_spca</th>\n      <td>648.844550</td>\n      <td>1.340333</td>\n      <td>0.972158</td>\n      <td>0.969219</td>\n      <td>179.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Best model diagnostics\n\n::: {#cell-supervised-pca-cooks-final .cell tbl-cap='Final trimmed interaction model (best in-sample by AIC).' execution_count=13}\n``` {.python .cell-code}\nbest_model = registry.get(comp_tbl.index[0])\nbest_model_name = best_model.name\nbest_model = best_model.diag\n\ndisplay(best_model)\n```\n\n::: {#supervised-pca-cooks-final .cell-output .cell-output-display}\n```{=html}\n\n<style>\n  .rr-wrap {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n    font-size: 12px;\n    line-height: 1.4;\n    border: 1px solid #e3e3e3;\n    border-radius: 6px;\n    padding: 12px 14px;\n    background: #fbfbfb;\n    color: #111;\n  }\n  .rr-title {\n    font-weight: 700;\n    color: #0f172a;\n    margin-bottom: 6px;\n  }\n  .rr-sub {\n    color: #64748b;\n    margin-bottom: 8px;\n  }\n  .rr-formula {\n    margin-bottom: 8px;\n  }\n  .rr-section {\n    margin-top: 10px;\n  }\n  .rr-label {\n    color: #0f766e;\n    font-weight: 600;\n  }\n  .rr-kv {\n    margin: 2px 0;\n  }\n  .rr-ok { color: #0f766e; }\n  .rr-warn { color: #b45309; }\n  .rr-bad { color: #b91c1c; }\n  .rr-note {\n    margin-top: 10px;\n    color: #475569;\n  }\n  .rr-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n    gap: 10px;\n  }\n  .rr-card {\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    background: #ffffff;\n  }\n  .rr-card .rr-label {\n    margin-bottom: 4px;\n  }\n  .rr-pre {\n    background: #ffffff;\n    color: #111;\n    padding: 10px 12px;\n    border-radius: 6px;\n    border: 1px solid #e5e7eb;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    margin: 6px 0 0 0;\n  }\n  .rr-summary {\n    margin-top: 6px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    padding: 8px 10px;\n    overflow-x: auto;\n  }\n  .rr-summary table {\n    width: 100%;\n    border-collapse: collapse;\n    font-size: 11px;\n  }\n  .rr-summary th, .rr-summary td {\n    padding: 3px 6px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  .rr-summary th {\n    text-align: left;\n    color: #0f172a;\n  }\n  details.rr-details {\n    margin-top: 10px;\n  }\n  details.rr-details > summary {\n    cursor: pointer;\n    color: #0f766e;\n    font-weight: 600;\n  }\n</style>\n<div class=\"rr-wrap\">\n  <div class=\"rr-title\">RegressionResult</div>\n  <div class=\"rr-sub\">Model: RegressionResultsWrapper | Observations: 169 | Params: 16</div>\n  <div class=\"rr-formula\"><span class=\"rr-label\">Formula</span>: life_expectancy ~ supervised_PC1 + supervised_PC3 + supervised_PC4 + supervised_PC5 + supervised_PC6 + supervised_PC7 + supervised_PC8 + supervised_PC9 + supervised_PC10 + supervised_PC11 + supervised_PC13 + supervised_PC14 + supervised_PC17 + supervised_PC3:supervised_PC4 + supervised_PC10:supervised_PC4</div>\n\n  <div class=\"rr-section rr-grid\">\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Fit metrics</div>\n      <div class=\"rr-kv\">r2=0.981 | adj_r2=0.979</div>\n      <div class=\"rr-kv\">rmse=1.066 | mae=0.866 | mape=0.012</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Information criteria</div>\n      <div class=\"rr-kv\">aic=533.222 | aicc=536.801</div>\n      <div class=\"rr-kv\">bic=583.301 | mdl=291.650</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Cross-validation</div>\n      <div class=\"rr-kv\">cv_rmse=nan | folds=0</div>\n    </div>\n    <div class=\"rr-card\">\n      <div class=\"rr-label\">Diagnostics</div>\n      <div class=\"rr-kv\">dw=1.989</div>\n      <div class=\"rr-kv\">jb_p=<span class=\"rr-ok\">0.560</span> | shapiro_p=<span class=\"rr-ok\">0.774</span></div>\n      <div class=\"rr-kv\">bp_p=<span class=\"rr-warn\">0.048</span> | white_p=<span class=\"rr-ok\">0.529</span></div>\n      <div class=\"rr-kv\">max_vif=1.705 | max_cooks=0.056</div>\n    </div>\n  </div>\n\n  <details class=\"rr-details\" open>\n    <summary>Statsmodels OLS summary</summary>\n    <div class=\"rr-summary\"><table class=\"simpletable\">\n<caption>OLS Regression Results</caption>\n<tr>\n  <th>Dep. Variable:</th>     <td>life_expectancy</td> <th>  R-squared:         </th> <td>   0.981</td> \n</tr>\n<tr>\n  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.979</td> \n</tr>\n<tr>\n  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   528.7</td> \n</tr>\n<tr>\n  <th>Date:</th>             <td>Sun, 18 Jan 2026</td> <th>  Prob (F-statistic):</th> <td>1.78e-123</td>\n</tr>\n<tr>\n  <th>Time:</th>                 <td>19:05:58</td>     <th>  Log-Likelihood:    </th> <td> -250.61</td> \n</tr>\n<tr>\n  <th>No. Observations:</th>      <td>   169</td>      <th>  AIC:               </th> <td>   533.2</td> \n</tr>\n<tr>\n  <th>Df Residuals:</th>          <td>   153</td>      <th>  BIC:               </th> <td>   583.3</td> \n</tr>\n<tr>\n  <th>Df Model:</th>              <td>    15</td>      <th>                     </th>     <td> </td>    \n</tr>\n<tr>\n  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    \n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n                 <td></td>                   <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  \n</tr>\n<tr>\n  <th>Intercept</th>                      <td>   71.2368</td> <td>    0.087</td> <td>  821.676</td> <td> 0.000</td> <td>   71.065</td> <td>   71.408</td>\n</tr>\n<tr>\n  <th>supervised_PC1</th>                 <td>   -2.5886</td> <td>    0.033</td> <td>  -78.510</td> <td> 0.000</td> <td>   -2.654</td> <td>   -2.523</td>\n</tr>\n<tr>\n  <th>supervised_PC3</th>                 <td>   -1.7802</td> <td>    0.094</td> <td>  -18.923</td> <td> 0.000</td> <td>   -1.966</td> <td>   -1.594</td>\n</tr>\n<tr>\n  <th>supervised_PC4</th>                 <td>   -1.0143</td> <td>    0.088</td> <td>  -11.584</td> <td> 0.000</td> <td>   -1.187</td> <td>   -0.841</td>\n</tr>\n<tr>\n  <th>supervised_PC5</th>                 <td>    0.8564</td> <td>    0.095</td> <td>    8.974</td> <td> 0.000</td> <td>    0.668</td> <td>    1.045</td>\n</tr>\n<tr>\n  <th>supervised_PC6</th>                 <td>    0.6697</td> <td>    0.102</td> <td>    6.558</td> <td> 0.000</td> <td>    0.468</td> <td>    0.871</td>\n</tr>\n<tr>\n  <th>supervised_PC7</th>                 <td>   -0.3962</td> <td>    0.122</td> <td>   -3.254</td> <td> 0.001</td> <td>   -0.637</td> <td>   -0.156</td>\n</tr>\n<tr>\n  <th>supervised_PC8</th>                 <td>    1.1565</td> <td>    0.133</td> <td>    8.674</td> <td> 0.000</td> <td>    0.893</td> <td>    1.420</td>\n</tr>\n<tr>\n  <th>supervised_PC9</th>                 <td>    0.7531</td> <td>    0.147</td> <td>    5.131</td> <td> 0.000</td> <td>    0.463</td> <td>    1.043</td>\n</tr>\n<tr>\n  <th>supervised_PC10</th>                <td>   -2.0418</td> <td>    0.190</td> <td>  -10.773</td> <td> 0.000</td> <td>   -2.416</td> <td>   -1.667</td>\n</tr>\n<tr>\n  <th>supervised_PC11</th>                <td>   -2.1518</td> <td>    0.226</td> <td>   -9.513</td> <td> 0.000</td> <td>   -2.599</td> <td>   -1.705</td>\n</tr>\n<tr>\n  <th>supervised_PC13</th>                <td>    1.4639</td> <td>    0.279</td> <td>    5.244</td> <td> 0.000</td> <td>    0.912</td> <td>    2.015</td>\n</tr>\n<tr>\n  <th>supervised_PC14</th>                <td>   -2.6117</td> <td>    0.295</td> <td>   -8.864</td> <td> 0.000</td> <td>   -3.194</td> <td>   -2.030</td>\n</tr>\n<tr>\n  <th>supervised_PC17</th>                <td>  -13.3710</td> <td>    2.509</td> <td>   -5.330</td> <td> 0.000</td> <td>  -18.327</td> <td>   -8.415</td>\n</tr>\n<tr>\n  <th>supervised_PC3:supervised_PC4</th>  <td>    0.3626</td> <td>    0.076</td> <td>    4.798</td> <td> 0.000</td> <td>    0.213</td> <td>    0.512</td>\n</tr>\n<tr>\n  <th>supervised_PC10:supervised_PC4</th> <td>    0.4861</td> <td>    0.212</td> <td>    2.291</td> <td> 0.023</td> <td>    0.067</td> <td>    0.905</td>\n</tr>\n</table>\n<table class=\"simpletable\">\n<tr>\n  <th>Omnibus:</th>       <td> 1.078</td> <th>  Durbin-Watson:     </th> <td>   1.989</td>\n</tr>\n<tr>\n  <th>Prob(Omnibus):</th> <td> 0.583</td> <th>  Jarque-Bera (JB):  </th> <td>   1.158</td>\n</tr>\n<tr>\n  <th>Skew:</th>          <td>-0.130</td> <th>  Prob(JB):          </th> <td>   0.560</td>\n</tr>\n<tr>\n  <th>Kurtosis:</th>      <td> 2.689</td> <th>  Cond. No.          </th> <td>    84.4</td>\n</tr>\n</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>\n  </details>\n\n  <details class=\"rr-details\" open>\n    <summary>Assumption checks (full)</summary>\n    <pre class=\"rr-pre\">AssumptionCheckResult(\n  Normality: JB(stat=1.16, p=0.560, OK); Shapiro/AD(stat=0.99, p=0.774, OK)\n  Homoscedasticity: BP(stat=25.14, p=0.048, FAIL); White(stat=130.17, p=0.529, OK)\n  Autocorrelation: Durbin-Watson=1.99 (OK)\n  Collinearity: cond#=84.36, max_vif=1.70, mean_vif=1.13\n  Influence: max_leverage=0.473, max_cook=0.056, cooks&gt;4/n=4\n)</pre>\n  </details>\n\n  <div class=\"rr-note\">Tip: call <code>print_summary()</code> for the full statsmodels output.</div>\n</div>\n```\n:::\n:::\n\n\nThe final trimmed interaction model (`m_final`) has the best **in-sample** fit in terms of AIC and all other metrics on the train set.\n\n::: {#supervised-pca-diagnostics .cell execution_count=14}\n``` {.python .cell-code}\nbest_model.plot_residual_diags()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Supervised PCA regression diagnostics.](5_regression_supervised_pca_files/figure-html/supervised-pca-diagnostics-output-1.png){#supervised-pca-diagnostics-1}\n:::\n\n::: {.cell-output .cell-output-display}\n![](5_regression_supervised_pca_files/figure-html/supervised-pca-diagnostics-output-2.png){#supervised-pca-diagnostics-2}\n:::\n\n::: {.cell-output .cell-output-display}\n![](5_regression_supervised_pca_files/figure-html/supervised-pca-diagnostics-output-3.png){#supervised-pca-diagnostics-3}\n:::\n:::\n\n\nDiagnostics for the final model are largely favorable (see diagnostics plots above): JB p=0.560 and Shapiro p=0.774 do not reject normality; residual plots show only mild curvature. Heteroscedasticity is weak: BP p=0.048 is borderline while White p=0.529 passes, suggesting mild, form-dependent variance changes where the heteroscedastic funnels don't appear to be correlated with any of the predictors. Durbin-Watson $\\approx$ 1.99 indicates no autocorrelation. The condition number ($\\approx$ 84) and max VIF ($\\approx$ 1.7) are moderate, so multicollinearity is not a concern. For inference, non-robust SEs/CIs are slightly optimistic; While the CIs should be reasonably trustworthy, we nonetheless compute bootstrap CIs for greater reliability.\n\nThe BP borderline failure with White passing implies mild heteroscedasticity: coefficients remain unbiased under exogeneity, but default SEs/CIs can be overly narrow, and prediction intervals can be optimistic at the extremes.\n\n## Holdout evaluation and bootstrap CIs\n\n::: {#cell-supervised-pca-eval .cell tbl-cap='Holdout-year performance (2011) for supervised PCA model.' execution_count=15}\n``` {.python .cell-code}\neval_holdout = registry.evaluate_on(\n    df=holdout_pca_df,\n    name=best_model_name,\n    label=f\"year{HOLDOUT_YEAR}\",\n)\neval_holdout\n```\n\n::: {#supervised-pca-eval .cell-output .cell-output-display execution_count=38}\n```{=html}\n\n<div style=\"font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\">\n  <div style=\"font-weight: 700; margin-bottom: 6px;\">EvalMetrics</div>\n  <table style=\"border-collapse: collapse;\">\n    <tr><td style=\"padding: 2px 8px 2px 0;\">label</td><td style=\"padding: 2px 0;\">year2011</td></tr>\n    <tr><td style=\"padding: 2px 8px 2px 0;\">n_obs</td><td style=\"padding: 2px 0;\">179</td></tr>\n    <tr><td style=\"padding: 2px 8px 2px 0;\">rmse</td><td style=\"padding: 2px 0;\">1.924</td></tr>\n    <tr><td style=\"padding: 2px 8px 2px 0;\">mae</td><td style=\"padding: 2px 0;\">1.455</td></tr>\n    <tr><td style=\"padding: 2px 8px 2px 0;\">r2</td><td style=\"padding: 2px 0;\">0.950</td></tr>\n  </table>\n  <div style=\"margin-top: 6px; font-size: 12px; opacity: 0.8;\">\n    Tip: call <code>plot_calibration()</code> for a calibration plot.\n  </div>\n</div>\n```\n:::\n:::\n\n\nHoldout performance (2011) is strong (RMSE 1.924, MAE 1.455, $R^2$ 0.950).\n\n::: {#cell-supervised-pca-eval-ci .cell tbl-cap='Bootstrap CIs for holdout metrics (B=3000).' execution_count=16}\n``` {.python .cell-code}\neval_holdout.bootstrap_ci(n_bootstrap=N_BOOTSTAP, random_state=42).set_index(\"metric\")\n```\n\n::: {#supervised-pca-eval-ci .cell-output .cell-output-display execution_count=39}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>estimate</th>\n      <th>ci_low</th>\n      <th>ci_high</th>\n    </tr>\n    <tr>\n      <th>metric</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>rmse</th>\n      <td>1.924490</td>\n      <td>1.647555</td>\n      <td>2.215461</td>\n    </tr>\n    <tr>\n      <th>mae</th>\n      <td>1.455492</td>\n      <td>1.284219</td>\n      <td>1.652197</td>\n    </tr>\n    <tr>\n      <th>r2</th>\n      <td>0.950158</td>\n      <td>0.936130</td>\n      <td>0.961521</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#cell-supervised-pca-calibration .cell execution_count=17}\n``` {.python .cell-code}\nplt.figure(figsize=(7, 5))\neval_holdout.plot_calibration(bins=10, bootstrap=N_BOOTSTAP, random_state=42)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Holdout calibration (2011) with bootstrap 95% CIs for binned means.](5_regression_supervised_pca_files/figure-html/supervised-pca-calibration-output-1.png){#supervised-pca-calibration}\n:::\n:::\n\n\nThe calibration curve tracks the 45-degree line closely across most of the range, with slight over-prediction at the lowest life-expectancy levels (points below the diagonal) and good calibration in the mid-to-high range. This indicates that systematic bias is small and largely confined to the most disadvantaged countries.\n\n::: {#supervised-pca-eval-years .cell tbl-cap='Supervised PCA evaluation across multiple years (same PCA mapping).' execution_count=18}\n``` {.python .cell-code}\n# years_eval = [2010, 2011, 2012, 2013, 2014]\nyears_eval = range(2000, 2015)\nrows = []\nci_rows = []\nfor year in years_eval:\n    yr_ds = LifeExpectancyDataset.from_csv_updated(\n        aggregate_by_country=year,\n        resolve_nand_pred=\"carry_forward\",\n    )\n    yr_full = yr_ds.tf_and_norm().drop(columns=[LECol.YEAR])\n    if STATUS_DUMMY not in yr_full.columns and LECol.STATUS in yr_full.columns:\n        yr_full = yr_full.assign(**{STATUS_DUMMY: yr_full[LECol.STATUS].astype(int)})\n    yr_pca = pca_result.transform(yr_full)\n    yr_df = yr_pca.assign(**yr_full[[LECol.TARGET]])\n    metrics = registry.evaluate_on(df=yr_df, name=best_model_name, label=f\"year{year}\")\n    rows.append(\n        {\n            \"year\": year,\n            \"rmse\": metrics.rmse,\n            \"mae\": metrics.mae,\n            \"r2\": metrics.r2,\n            \"n_obs\": metrics.n_obs,\n        }\n    )\n    ci = metrics.bootstrap_ci(n_bootstrap=N_BOOTSTAP, random_state=42)\n    ci_rows.append(ci.assign(year=year))\n\nmetrics_df = pd.DataFrame(rows).sort_values(by=\"year\")\nci_df = pd.concat(ci_rows, ignore_index=True)\n\nplot_df = ci_df.query(\"metric in ['mae', 'r2']\").sort_values([\"metric\", \"year\"])\nfig, axes = plt.subplots(1, 2, figsize=(11, 4), sharex=True)\nfor metric, ax in zip([\"mae\", \"r2\"], axes):\n    sub = plot_df[plot_df[\"metric\"] == metric]\n    ax.plot(sub[\"year\"], sub[\"estimate\"], marker=\"o\")\n    ax.fill_between(sub[\"year\"], sub[\"ci_low\"], sub[\"ci_high\"], alpha=0.2)\n    ax.axvline(TRAIN_YEAR, color=\"grey\", linestyle=\"--\", linewidth=1, alpha=0.7)\n    ax.set_title(f\"{metric.upper()} with 95% CI\")\n    ax.set_xlabel(\"Year\")\n    ax.set_ylabel(metric.upper())\nplt.tight_layout()\nplt.show()\n\nmetrics_df\n```\n\n::: {.cell-output .cell-output-display}\n![](5_regression_supervised_pca_files/figure-html/supervised-pca-eval-years-output-1.png){#supervised-pca-eval-years-1}\n:::\n\n::: {#supervised-pca-eval-years-2 .cell-output .cell-output-display execution_count=41}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>rmse</th>\n      <th>mae</th>\n      <th>r2</th>\n      <th>n_obs</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2000</td>\n      <td>5.585389</td>\n      <td>4.864429</td>\n      <td>0.697255</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2001</td>\n      <td>5.369155</td>\n      <td>4.594871</td>\n      <td>0.721600</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2002</td>\n      <td>5.143582</td>\n      <td>4.353308</td>\n      <td>0.741657</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2003</td>\n      <td>4.818879</td>\n      <td>4.069208</td>\n      <td>0.769588</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2004</td>\n      <td>4.482345</td>\n      <td>3.716698</td>\n      <td>0.798862</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>2005</td>\n      <td>4.124402</td>\n      <td>3.405854</td>\n      <td>0.824545</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>2006</td>\n      <td>3.726467</td>\n      <td>3.044984</td>\n      <td>0.851723</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>2007</td>\n      <td>3.361198</td>\n      <td>2.706060</td>\n      <td>0.874020</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2008</td>\n      <td>2.969387</td>\n      <td>2.342010</td>\n      <td>0.897077</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2009</td>\n      <td>2.567156</td>\n      <td>2.018033</td>\n      <td>0.919161</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>2010</td>\n      <td>2.208427</td>\n      <td>1.697550</td>\n      <td>0.937105</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>2011</td>\n      <td>1.924490</td>\n      <td>1.455492</td>\n      <td>0.950158</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>2012</td>\n      <td>1.711993</td>\n      <td>1.284338</td>\n      <td>0.958254</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>2013</td>\n      <td>1.577065</td>\n      <td>1.178972</td>\n      <td>0.962931</td>\n      <td>179.0</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>2014</td>\n      <td>1.412594</td>\n      <td>1.059887</td>\n      <td>0.969076</td>\n      <td>179.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#cell-supervised-pca-eval-all-models .cell execution_count=19}\n``` {.python .cell-code}\nall_years = (\n    LifeExpectancyDataset.from_csv_updated(\n        aggregate_by_country=False,\n        resolve_nand_pred=False,\n    )\n    .df[LECol.YEAR]\n    .dt.year.sort_values()\n    .unique()\n    .tolist()\n)\nyears_eval_all = [year for year in all_years if year != TRAIN_YEAR]\n\nmodel_labels = {\n    \"m_spca\": \"Full PCA\",\n    \"m_spca_reduced\": \"Reduced PCA\",\n    spca_stepwise_name: \"Stepwise AIC\",\n    spca_interactions_name: \"Interactions\",\n    \"m_inter_trim\": \"Cooks-trimmed\",\n}\n\nrows = []\nfor year in years_eval_all:\n    yr_ds = LifeExpectancyDataset.from_csv_updated(\n        aggregate_by_country=year,\n        resolve_nand_pred=\"carry_forward\",\n    )\n    yr_full = yr_ds.tf_and_norm().drop(columns=[LECol.YEAR])\n    if STATUS_DUMMY not in yr_full.columns and LECol.STATUS in yr_full.columns:\n        yr_full = yr_full.assign(**{STATUS_DUMMY: yr_full[LECol.STATUS].astype(int)})\n    yr_pca = pca_result.transform(yr_full)\n    yr_df = yr_pca.assign(**yr_full[[LECol.TARGET]])\n    for model in model_labels.keys():\n        metrics = registry.evaluate_on(df=yr_df, name=model, label=f\"year{year}\")\n        rows.append(\n            {\n                \"year\": year,\n                \"model\": model_labels.get(model, model),\n                \"rmse\": metrics.rmse,\n                \"mae\": metrics.mae,\n                \"r2\": metrics.r2,\n                \"n_obs\": metrics.n_obs,\n            }\n        )\n\nrmse_by_year = pd.DataFrame(rows)\nplt.figure(figsize=(9, 5))\nsns.lineplot(data=rmse_by_year, x=\"year\", y=\"rmse\", hue=\"model\", marker=\"o\")\nplt.axvline(TRAIN_YEAR, color=\"grey\", linestyle=\"--\", linewidth=1, alpha=0.7)\nplt.ylabel(\"RMSE\")\nplt.yscale(\"log\")\nplt.xlabel(\"Year\")\nplt.legend(title=\"Model\")\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![RMSE across years for supervised PCA variants.](5_regression_supervised_pca_files/figure-html/supervised-pca-eval-all-models-output-1.png){#supervised-pca-eval-all-models}\n:::\n:::\n\n\n::: {#tbl-supervised-pca-eval-all-models .cell tbl-cap='Supervised PCA model evaluation across years accumulated over years.' execution_count=20}\n``` {.python .cell-code}\nrmse_by_year.groupby(\"model\")[[\"rmse\", \"mae\", \"r2\"]].mean().sort_values(\"rmse\")\n```\n\n::: {.cell-output .cell-output-display execution_count=43}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>rmse</th>\n      <th>mae</th>\n      <th>r2</th>\n    </tr>\n    <tr>\n      <th>model</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Interactions</th>\n      <td>3.310865</td>\n      <td>2.790506</td>\n      <td>0.864511</td>\n    </tr>\n    <tr>\n      <th>Full PCA</th>\n      <td>3.340858</td>\n      <td>2.745832</td>\n      <td>0.862052</td>\n    </tr>\n    <tr>\n      <th>Stepwise AIC</th>\n      <td>3.350952</td>\n      <td>2.748243</td>\n      <td>0.861214</td>\n    </tr>\n    <tr>\n      <th>Cooks-trimmed</th>\n      <td>3.355227</td>\n      <td>2.787410</td>\n      <td>0.861180</td>\n    </tr>\n    <tr>\n      <th>Reduced PCA</th>\n      <td>3.381948</td>\n      <td>2.758282</td>\n      <td>0.858855</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Conclusions on model choice\n\nTwo candidates emerge: the **Interactions model** (untrimmed) and the **Final model** (trimmed + simplified). The Final model is best **in-sample for 2014** ($R^2=0.981$, RMSE=1.066, AIC=533.2) and has the **most stable diagnostics** (JB p=0.560, Shapiro p=0.774, White p=0.529; BP borderline p=0.048; low VIF~1.7; max Cook's=0.056). Its drawback is **poorer temporal generalization**: mean RMSE across years is 3.403, the worst among candidates. The Interactions model generalizes **best across years** (mean RMSE=3.311; mean MAE=2.791; mean $R^2=0.865$), with the Final model worse by +0.092 RMSE (+2.79%) and +0.003 MAE (+0.10%). It also shows **less stable inference** (BP p=0.036; max Cook's=0.417; 12 points exceed 4/n), indicating higher influence sensitivity and more heteroscedasticity.\n\n**Conclusion:** If the goal is **explain 2014 cross-sectional structure with stable diagnostics**, report the **Final model** (with a robust-SE/boot CI caveat). If the goal is **prediction across years**, select the **Interactions model** as the best generalizer despite less stable inference.\n\n\n## Interpretation of principal components in the final SPCA model\n\n::: {#cell-supervised-pca-loadings .cell execution_count=21}\n``` {.python .cell-code code-fold=\"true\"}\ngroup_res = pca_result.group_results[0]\nkept_pcs_prefixed = sig_pcs if sig_pcs else group_res.pc_scores.columns.tolist()\nkept_pc_names = [\n    pc.split(f\"{group_res.group.name}_\", 1)[1] for pc in kept_pcs_prefixed\n]\n\nplot_loadings_heatmap(\n    group_res,\n    pc_subset=kept_pc_names,\n    top_n_features=15,\n    figsize=(14, 8),\n).show()\n```\n\n::: {.cell-output .cell-output-display}\n![Loadings heatmap for retained supervised PCs.](5_regression_supervised_pca_files/figure-html/supervised-pca-loadings-output-1.png){#supervised-pca-loadings}\n:::\n:::\n\n\nThe final supervised PCA (SPCA) regression model (`m_inter_trim`) uses the additive PCs PC1, PC3, PC4, PC5, PC6, PC7, PC8, PC9, PC10, PC11, PC13, PC14, and PC17, as well as two interaction terms: PC3:PC4 and PC10:PC4. All PCs are computed from standardized predictors after outcome-based screening, so each PC represents an **orthogonal axis** in the screened feature space.\n\n### How PCs are interpreted\n\nA PC is not a “variable”; it is a weighted contrast of original predictors. Interpretation therefore proceeds in two steps:\n\n1. **Loadings $\\rightarrow$ meaning:** identify the dominant positive and negative loadings (top $|loading|$) from the loadings heatmap.\n   These define what a “high” vs “low” score on a PC means in terms of original variables.\n2. **Coefficient sign → association:** given the regression coefficient $\\beta_k$, increasing the PC score by one unit changes the prediction by $\\beta_k$ years.\n   Hence, the side of the PC axis that increases life expectancy is determined by the joint sign structure of loadings and $\\beta_k$.\n\nBecause PC signs are arbitrary, we do **not** interpret “positive PC values” per se; we interpret the **direction in original-variable space** that corresponds to higher predicted life expectancy.\n\n### Which PCs matter most\n\nThe t-statistics indicate that the model is dominated by a small number of axes.\nPC1 is by far the strongest contributor (|t| $\\approx 78.5$), followed by PC3, PC4, PC10, PC11, PC14, PC5, and PC8 (all |t| $\\gtrsim 8$).\nThe remaining retained PCs contribute smaller but still statistically detectable adjustments in orthogonal directions.\n\n### Interpretation of the dominant PCs\n\n**PC1 — “Mortality burden vs socio-economic development” (dominant gradient).**\nLoadings indicate that PC1 increases with mortality indicators (under-five deaths, infant deaths, adult mortality)\nand decreases with development proxies (schooling, GDP). The coefficient is negative ($\\beta_{PC1} < 0$),\nso moving toward the mortality-burden side of this axis is associated with lower life expectancy.\nEquivalently, conditional on the other PCs, countries characterized by higher schooling/GDP and lower mortality burden\nlie on the life-expectancy–increasing direction of PC1.\n\n**PC3 — “HIV/AIDS and residual mortality burden beyond the main gradient.”**\nPC3 is dominated by HIV/AIDS and mortality-related loadings (as seen in the loadings heatmap).\nIts coefficient is negative ($\\beta_{PC3} < 0$), implying that, *after controlling for the broad PC1 gradient*,\nthe HIV/AIDS–related burden captured by PC3 remains strongly associated with reduced life expectancy.\nPC3 also enters an interaction with PC4 (see below), indicating that the strength of this association depends on the level of PC4.\n\n::: {#supervised-pca-biplot-pc1-pc3 .cell execution_count=22}\n``` {.python .cell-code code-fold=\"true\"}\npc_axes = kept_pc_names[:2] if len(kept_pc_names) >= 2 else []\nif len(pc_axes) == 2:\n    biplot_fig = plot_biplot_plotly(\n        group_res,\n        dims=2,\n        pc_axes=pc_axes,\n        top_features=12,\n        color=train_full.loc[group_res.pc_scores.index, LECol.TARGET],\n    )\n    biplot_fig.show()\n```\n\n::: {#supervised-pca-biplot-pc1-pc3-1 .cell-output .cell-output-display}\n```{=html}\n        <script type=\"text/javascript\">\n        window.PlotlyConfig = {MathJaxConfig: 'local'};\n        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\n        </script>\n        <script type=\"module\">import \"https://cdn.plot.ly/plotly-3.3.0.min\"</script>\n        \n```\n\nBiplot for the first two retained supervised PCs.\n:::\n\n::: {#supervised-pca-biplot-pc1-pc3-2 .cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.3.0.min.js\" integrity=\"sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=\" crossorigin=\"anonymous\"></script>                <div id=\"3a311253-988a-458d-b37e-21f7369b5258\" class=\"plotly-graph-div\" style=\"height:700px; width:900px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"3a311253-988a-458d-b37e-21f7369b5258\")) {                    Plotly.newPlot(                        \"3a311253-988a-458d-b37e-21f7369b5258\",                        [{\"marker\":{\"color\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAACAT0AzMzMzM3NTQJqZmZmZ+VJAZmZmZmZmTUAzMzMzMxNTQJqZmZmZ+VJAMzMzMzOTUkAzMzMzM5NUQAAAAAAAYFRAAAAAAAAAUkAzMzMzMzNSQGZmZmZmJlNAzczMzMzMUUDNzMzMzKxTQAAAAAAAQFJAMzMzMzNTVEAzMzMzM3NSQGZmZmZmJk5AAAAAAACAUUCamZmZmXlRQM3MzMzMLFNAMzMzMzOTUEDNzMzMzKxSQM3MzMzMzFJAAAAAAACgUkAAAAAAAMBNQJqZmZmZ2U1AmpmZmZn5UUAzMzMzMxNRQM3MzMzMjExAMzMzMzNzVEDNzMzMzAxJQGZmZmZmZkpAAAAAAADgU0BmZmZmZuZSQDMzMzMzE1NAmpmZmZmZT0BmZmZmZmZNQM3MzMzMTE9AmpmZmZnZU0AAAAAAAMBLQAAAAAAAYFNAAAAAAACgU0DNzMzMzAxUQDMzMzMzs1NAzczMzMwsVECamZmZmZlPQAAAAAAAQFJAmpmZmZn5UkBmZmZmZsZRQM3MzMzMDFJAAAAAAACATEDNzMzMzAxQQAAAAAAAQFNAzczMzMzMSkAAAAAAACBQQAAAAAAAwFBAzczMzMxMVEDNzMzMzKxUQDMzMzMzE1BAmpmZmZlZTkDNzMzMzCxSQGZmZmZmRlRAMzMzMzMzT0CamZmZmVlUQAAAAAAAIFJAmpmZmZk5UkAAAAAAAIBNQM3MzMzMTExAAAAAAABAUUDNzMzMzAxPQDMzMzMzk1JAMzMzMzPzUkCamZmZmblUQDMzMzMzE1FAAAAAAACgUUAAAAAAAOBSQM3MzMzMbFFAMzMzMzNTVEDNzMzMzIxUQGZmZmZmxlRAAAAAAACAUkBmZmZmZuZUQAAAAAAAgFJAmpmZmZnZUUBmZmZmZgZQQAAAAAAAwFBAAAAAAADAUkCamZmZmZlRQGZmZmZmhlBAZmZmZmaGUkDNzMzMzKxTQDMzMzMz80hAmpmZmZnZTkAAAAAAAABSQAAAAAAAoFJAzczMzMyMVEBmZmZmZkZQQAAAAAAAgE5AMzMzMzPTUkCamZmZmVlTQAAAAAAAgExAAAAAAACAVECamZmZmdlPQM3MzMzMjFJAmpmZmZm5UkDNzMzMzMxQQDMzMzMz01FAmpmZmZk5UUCamZmZmRlTQAAAAAAA4FJAzczMzMwMTECamZmZmVlQQDMzMzMzs05AzczMzMxMUUDNzMzMzGxUQJqZmZmZWVRAmpmZmZlZUkDNzMzMzAxOQJqZmZmZWUpAAAAAAADgUkBmZmZmZoZUQGZmZmZmJlNAmpmZmZmZUEBmZmZmZmZTQJqZmZmZmU9AAAAAAABgUkAAAAAAAOBSQAAAAAAAoFFAZmZmZmZmU0BmZmZmZkZUQGZmZmZm5lNAmpmZmZm5UkDNzMzMzKxRQJqZmZmZuVBAAAAAAAAgUkBmZmZmZkZRQAAAAAAAoFJAmpmZmZmZUEAzMzMzM9NSQM3MzMzMTFJAMzMzMzMzSkAAAAAAAKBUQDMzMzMzM1NAZmZmZmZGVECamZmZmflRQAAAAAAAwEtAAAAAAAAAT0DNzMzMzMxUQGZmZmZmBlNAmpmZmZnZUkAAAAAAAABSQGZmZmZmxlFAMzMzMzOTVEDNzMzMzMxUQDMzMzMzc1FAmpmZmZl5UUBmZmZmZiZPQM3MzMzM7FJAzczMzMwMUUDNzMzMzMxNQJqZmZmZmVFAMzMzMzMzUkDNzMzMzOxSQM3MzMzMDFNAZmZmZmbmUECamZmZmVlOQM3MzMzMzFFAZmZmZmZGU0AzMzMzM1NUQDMzMzMzs1NAzczMzMxMU0DNzMzMzKxRQM3MzMzMbFFAMzMzMzMzUkBmZmZmZsZSQGZmZmZmhlBAZmZmZmZmTkAzMzMzMzNNQA==\"},\"colorscale\":[[0.0,\"rgb(255,247,236)\"],[0.125,\"rgb(254,232,200)\"],[0.25,\"rgb(253,212,158)\"],[0.375,\"rgb(253,187,132)\"],[0.5,\"rgb(252,141,89)\"],[0.625,\"rgb(239,101,72)\"],[0.75,\"rgb(215,48,31)\"],[0.875,\"rgb(179,0,0)\"],[1.0,\"rgb(127,0,0)\"]],\"opacity\":0.8,\"size\":7},\"mode\":\"markers\",\"name\":\"Scores\",\"textposition\":\"top center\",\"x\":{\"dtype\":\"f8\",\"bdata\":\"xXX5AiQCFED4ZPPSp9QBwDksTcWD19M\\u002fmOudE2H4DkA6gBvfvhQCwKZquGimMP+\\u002f3h16yneo8L+XbBHJaZ8RwJi8sYO8EhLAYK0I5UCN37834+4bcw38vwR+l5Rvy\\u002fi\\u002fF48VPT\\u002fMBEAioc1s+p33vyBuKYkD\\u002fATACElbMZl2EcCXSqXe6cDwv+NoHZP98Q1Ap9dZ6uWA\\u002fT9Oued\\u002ffejevxZS8EU5afO\\u002fgc4AfSeC9j8ixdeE+eLqv7luneKXEfq\\u002fxwk95eETAcDLGX0OhZsSQL56qHE5BwpAOeMvbd7c4T9CD6Hq1lQCQCxnmTZuqQpAJPos9MF9CMD78Tjij8YWQHQbfiz6LxdAbe0pLD+fBcAENBKoFY\\u002f4v1QjVisPe+O\\u002fKUUw2zR6CEAw4Fi1WfYOQBe+BdP3VAZAirI5fLKh+L85kA9\\u002ftdoPQOC+NQX0tgvAZqaSHqFQA8CUaGyVSDASwKseR9NGpA\\u002fACMs+n04QDcD3fjlNTHoLQKCw1j4cctc\\u002fdV9jElgK1r9NwaEyIM3NP5BolracB+C\\u002fc8EAirIfEUB6M8CfEOwJQIhwSIWOIwzAODbq+dAO+j\\u002ftb+sq6+QKQNUFIzYTqe6\\u002flNHn2T+yEsCbRCdAjj0RwFTibsXBLQJAMTMGwKLiBEDQ0gIXKFXyv3qyvoDt1hDAfe\\u002f\\u002fSFTf\\u002fj+uaTIco0URwHvMDRamuOi\\u002f17wQQvhc6j8ejSOf2wkUQFV00V7zeA9AFl3y\\u002fKyx0j\\u002fuxNVGLfkJQPv8q3Gze+i\\u002fAyGcrsp8DMCk6ZVeYX4QwEMHO+OmHw1AX8syujoOAEAmm+bN7qbbv3S7MsRijP4\\u002f6rzCDk1xEsBni\\u002f0+NnAQwGgMd4CRDBDA6eqwv61b5b+L6xxMtNYJwFhVP9BpbPG\\u002fs0zZtEJm8L+l6w+o81sJQH\\u002fia\\u002fCJ8+8\\u002foENeTP0I9r82brKO8\\u002fDQPyDx8hXLFARAiMAxRNR3BcC2zKEZFU5+v0uLvTg5ehBAELPgACJZEkDSbs+qqC\\u002fVPyOi2nX6zgfAejCIHgdIFMAeg3Ry5UQQQMijVleJ8gpAcIMTI5Qp6r8UEC6PyrHxvwlX1YJlTRJACCDgaQprEMCTwPlu6rQLQGtEU9QrntG\\u002fW8jnm0q06L+T9QJVXoK3P2BPxKzgzJK\\u002fQVCDX+dU97+GkMM0+JMAwNgfyjydv9M\\u002fK1ZSo+KFEEBzusKCroUKQMgJZVpskAVA0AVN2g\\u002fcCUA3qXBUOeENwFFcc3\\u002fT3BDAG9aulzcE8r\\u002fcjSyeCscTQDfCk7FKww9AdB7ZJ7+C8b8MACnjjJ4QwDoptlfhIfS\\u002fQWn1VfBjEkB88Nb9Ha\\u002fpv\\u002ffbC+w9\\u002fAJAskm6pQO12r9yTC3+2zvVv8NErljVgf4\\u002fhzLPICJcCcDcqEKjJJAQwN5PT1WGrP2\\u002fUzTmbMFC\\u002fL+xo8+opOIAwITx+8thpfo\\u002f6Jkjbw9i7b+JZidcDuHqP\\u002fbVv+Ligfa\\u002fLTlp+1zMC0CB3HNu187yvxAsBnyDru+\\u002flps8Uww4EkAn4F+FDNQGwJ0wULsFPArAZaYV2fKFDcAYbmubAVPxP8MdsySClhZAkl8Y1guB\\u002fz+tfJdWZOsPwKgS654Yetq\\u002fpK+A1UWH+L+6kby+sYLvv0YwR+QVNfg\\u002fpgZnHgABEcDK9BIkUyYTwH7pru2zCA1A3qyCusTf2z8CNolBbv8DQPgOdRSydeu\\u002fJkkAn2+WC0CidfdqHEMOQP5fJtEAFwLAi67bEEoD5L9ABWR0Iz\\u002fiv887RF8iRuC\\u002fXFKXheS117\\u002fdN8uFfIAMQC1azXws+O4\\u002fxkpBtifYBMCS1VcTqykNwHMiVlleUQ\\u002fAucAamMx7AMBMTAoQG+nuv5UMr\\u002frccPE\\u002fdI\\u002fsGpRK3L+yMSFiCAj7Pzu1cBvjig1A1TNdq\\u002fW5D0C+2UE6a3EIQA==\"},\"y\":{\"dtype\":\"f8\",\"bdata\":\"paiJgG++878sge+2WK7fv73hSj6KMvO\\u002fKMGjNAs\\u002f4T+E6+MVLGTcPxUPLmrudNK\\u002fp8msJroh47+iIZ4IVrnXP4nyPSRB7\\u002fM\\u002f3lQuTMnW8r\\u002fWvT\\u002f09jjdPwRxor9Nae+\\u002fK9ZKYtth+L\\u002fHL9sCreLMP9IyXAa3quI\\u002fa2SHD3l0xj\\u002f89aIXexvRP4L8WvWqJ96\\u002fy65xCnN157\\u002fYQ0hDkK6jPxSfWw\\u002fUPNm\\u002fkp3aWE8BCUB2fCy3ZfbUPyPBxia+AfW\\u002fgZl03yLL3z93owAmAhDlPxg6b9x+\\u002fO8\\u002fbx462Qorxr83rqsPyQPZv7+dWb9UG\\u002fQ\\u002f8WkEs6AW6r+MlUOKFQ3rP8GK5sIwzuG\\u002fApQ\\u002fVzdnrz\\u002fhjJX8atKCPxfSbe\\u002f6Zc2\\u002fimIVPE2p8L8CrWWyppHeP1wFDRWJpPQ\\u002f5raVcnYC4L80LoKZ7oTkP8c\\u002fS1KZddU\\u002fJA8y+riT2T9uQEicLfHZP7MTrxgGs+E\\u002fTH7BpM\\u002f+0r\\u002f6XQHYwP31v9Oy\\u002fDhcHLC\\u002fbEgoD4wx27\\u002f3k+KiYmj2v2F7JXFr4de\\u002f9UoPrJaWAED4Eid5l4vhv8WR+uVeDuY\\u002fJG9O5CJ0FkCyXC9RCIjpvxlCR4HsiMW\\u002fag5ioESy5T\\u002fxEoI0qK3yP2ULO7hr8Ok\\u002fwexiPscM8T\\u002fWbkwwj4mavxGTL7EcBuY\\u002fwEmSmcAm4j\\u002fYZSTJ8azhP2VJlhfUfNU\\u002fxdV2EYTk879A9GPU2YDiv0dAs8EVVPE\\u002fK5Zxr+wU5z\\u002fIqv5AH46iv5RxS35Es76\\u002fALK4ErB55z+FEt12NfSMP6xTKnl\\u002fZOK\\u002fhjSehyCs9r9y3ZwlZeTzv2prkjUzMP+\\u002ffLU4Dpo52T+9INzfTxLTv5OPhPWry9c\\u002fC7JjGXVh0r9MLpICjJfPv6rA30vgofC\\u002fq3PXzvEL1r\\u002fIrjpYzfPpP+tyc3X6BADAqJcBv7RFAcDAz\\u002fxzbXmxP6joFTolbM8\\u002fuItjk7iW5z+lS4kYnsP8v0Hec0cUpg5AFdMs5KQ76z+djkvWV33+vxz6\\u002fp1Nj+s\\u002f0WdVQo8i5j\\u002f6wKxx2Hrwv7JE2O8uygJAumVA8vO78r\\u002ff6JhwUXbKP9GI0pAqTtq\\u002fAT6\\u002ft2a33z\\u002fQQkPbXFr4v+cL6mPTjdA\\u002fLtP\\u002fQM2y6b9q4C9iSEfzv2otvBbXg92\\u002fFcZC+t9g5T9nwa9Nc+Lav103KpV6aPG\\u002f\\u002fZKBskVS\\u002fT9y2xHE3ADrvz4MKtJNxgVA5tJF9iE+8b\\u002fIpZ9zSZPYv9Nn+584\\u002ft8\\u002f8I9LYmGu0D9\\u002fKdbchRX0v1ITw058sNw\\u002f+kMlxBkD57+bnSB1mK+Uv3+Bi6yCcPW\\u002feC2f88Ge\\u002fr\\u002fc+U\\u002fXTIltv+EucyOe\\u002fuq\\u002f9r4l52kmvj+rp1Btxtvdv3tm2E8Sr96\\u002fa+RIQRJj3j\\u002fl9vFY\\u002fj3rP7RlukBQ5P6\\u002fAwDuKyXMvD+jAbInQQXpPxMlVznLUfU\\u002fv4903bLJ9r873hnj0\\u002f7ePxWU7+Lk6Pi\\u002fTWfcWsUq9b+1QVPFwhzwvxQyKDZXbwBAsF1r0\\u002fOa\\u002fT+M7pDjrP\\u002fuv5z2qH9FnuA\\u002ffUZ37F2X0D\\u002fTsBuOSuX0v38PdGGv3\\u002fS\\u002fIo+vg5jKDUCLSj5dOVfXP5fJushzQuO\\u002fCZnuBShy4z8JV7yTOk3gPxlVtYKtKsw\\u002fibb7vlx34T\\u002fMo0bJyt\\u002frPwsupBfewALA6AXQUgH46L\\u002fttonWcaIAQOyNevSAptU\\u002f3MkTkA+J\\u002fL\\u002fxa2t+QwCsP76Q8wunPvm\\u002fFCLJQrIMzT9l9Ln5QFTnvw0DkVgbd\\u002fC\\u002f4OaTjR8f0b8Lgn0AXZgAQOcE6cWaUNu\\u002fCKVRO+Bd7L8bSo6w8E7IPyBeehFHKfM\\u002fUDs7HBPwuT\\u002f+so3ALfvQv47tK3DhbPW\\u002fHRPnSSZByr\\u002fdIjcqqDXLv28tWZ3GYPi\\u002fpybK9BvDBEDe0HXQdVoHQA==\"},\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.842245815058749],\"y\":[0,1.1743626427061158],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"status_developed\"],\"textposition\":\"top center\",\"x\":[-1.842245815058749],\"y\":[1.1743626427061158],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.7029622993637006],\"y\":[0,-1.0825538202876317],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"bmi\"],\"textposition\":\"top center\",\"x\":[-1.7029622993637006],\"y\":[-1.0825538202876317],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-2.3698458342066475],\"y\":[0,0.12292901820497121],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"gdp\"],\"textposition\":\"top center\",\"x\":[-2.3698458342066475],\"y\":[0.12292901820497121],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.2759493337846917],\"y\":[0,0.5836632693943984],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"percentage_expenditure\"],\"textposition\":\"top center\",\"x\":[-1.2759493337846917],\"y\":[0.5836632693943984],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.5258347374318098],\"y\":[0,3.881253185622707],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"alcohol\"],\"textposition\":\"top center\",\"x\":[-1.5258347374318098],\"y\":[3.881253185622707],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.8608706832553907],\"y\":[0,0.008447172845350551],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"thinness_1_19_years\"],\"textposition\":\"top center\",\"x\":[1.8608706832553907],\"y\":[0.008447172845350551],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,2.5761769582058505],\"y\":[0,0.49263506694532644],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"under_five_deaths\"],\"textposition\":\"top center\",\"x\":[2.5761769582058505],\"y\":[0.49263506694532644],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.179388409355403],\"y\":[0,4.92732485858672],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"hiv_aids\"],\"textposition\":\"top center\",\"x\":[1.179388409355403],\"y\":[4.92732485858672],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.9683160347691269],\"y\":[0,-0.10773718905117445],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"thinness_5_9_years\"],\"textposition\":\"top center\",\"x\":[1.9683160347691269],\"y\":[-0.10773718905117445],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,2.181949230705312],\"y\":[0,2.9842235495737968],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"adult_mortality\"],\"textposition\":\"top center\",\"x\":[2.181949230705312],\"y\":[2.9842235495737968],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.7101361112213258],\"y\":[0,-1.0567400176019117],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"diphtheria\"],\"textposition\":\"top center\",\"x\":[1.7101361112213258],\"y\":[-1.0567400176019117],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.9902649887233296],\"y\":[0,2.247572851919433],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"total_expenditure\"],\"textposition\":\"top center\",\"x\":[-0.9902649887233296],\"y\":[2.247572851919433],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"white\",\"polar\":{\"bgcolor\":\"white\",\"angularaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"white\",\"aaxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"white\",\"subunitcolor\":\"#C8D4E3\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"xaxis\":{\"title\":{\"text\":\"PC1\"}},\"yaxis\":{\"title\":{\"text\":\"PC3\"}},\"legend\":{\"orientation\":\"h\",\"yanchor\":\"bottom\",\"y\":1.02,\"xanchor\":\"right\",\"x\":1},\"title\":{\"text\":\"supervised Biplot\"},\"width\":900,\"height\":700},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('3a311253-988a-458d-b37e-21f7369b5258');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n:::\n:::\n\n\n**PC4 — “Health spending / nutrition / development-composition contrast”.**\nPC4 combines expenditure and anthropometric structure (e.g., BMI and expenditure-related variables) against development-status/expenditure composition\nin a way that is orthogonal to PC1 and PC3. Its main-effect coefficient is negative ($\\beta_{PC4} < 0$),\nso higher scores along the PC4 direction are associated with lower life expectancy *at the reference levels of other PCs*.\nCrucially, PC4 also appears in both retained interaction terms, so it acts as an effect modifier:\nPC4 changes how strongly PC3 and PC10 relate to life expectancy.\n\n**PC10 — “Development–disease contrast distinct from PC1” (interaction with PC4).**\nPC10 forms another high-impact axis (large |t|), separating a residual development/disease pattern not already captured by PC1.\nIts main coefficient is negative ($\\beta_{PC10} < 0$), but the interpretation must be tied to its loadings:\nthe direction associated with higher life expectancy is the side of the PC10 axis whose movement yields an increase in $\\hat{y}$\ngiven $\\beta_{PC10}$ (i.e., the side opposite the sign of $\\beta_{PC10}$).\nPC10 additionally interacts with PC4, so the association of PC10 with life expectancy changes depending on PC4.\n\n::: {#cell-supervised-pca-biplot-pc4-pc10 .cell execution_count=23}\n``` {.python .cell-code code-fold=\"true\"}\npc_axes = [\"PC4\", \"PC10\"]\nif len(pc_axes) == 2:\n    biplot_fig = plot_biplot_plotly(\n        group_res,\n        dims=2,\n        pc_axes=pc_axes,\n        top_features=12,\n        color=train_full.loc[group_res.pc_scores.index, LECol.TARGET],\n    )\n    biplot_fig.show()\n```\n\n::: {#supervised-pca-biplot-pc4-pc10 .cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.3.0.min.js\" integrity=\"sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=\" crossorigin=\"anonymous\"></script>                <div id=\"ffbfb3ac-ff3b-4f59-b9e6-4eb2e7dc926b\" class=\"plotly-graph-div\" style=\"height:700px; width:900px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"ffbfb3ac-ff3b-4f59-b9e6-4eb2e7dc926b\")) {                    Plotly.newPlot(                        \"ffbfb3ac-ff3b-4f59-b9e6-4eb2e7dc926b\",                        [{\"marker\":{\"color\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAACAT0AzMzMzM3NTQJqZmZmZ+VJAZmZmZmZmTUAzMzMzMxNTQJqZmZmZ+VJAMzMzMzOTUkAzMzMzM5NUQAAAAAAAYFRAAAAAAAAAUkAzMzMzMzNSQGZmZmZmJlNAzczMzMzMUUDNzMzMzKxTQAAAAAAAQFJAMzMzMzNTVEAzMzMzM3NSQGZmZmZmJk5AAAAAAACAUUCamZmZmXlRQM3MzMzMLFNAMzMzMzOTUEDNzMzMzKxSQM3MzMzMzFJAAAAAAACgUkAAAAAAAMBNQJqZmZmZ2U1AmpmZmZn5UUAzMzMzMxNRQM3MzMzMjExAMzMzMzNzVEDNzMzMzAxJQGZmZmZmZkpAAAAAAADgU0BmZmZmZuZSQDMzMzMzE1NAmpmZmZmZT0BmZmZmZmZNQM3MzMzMTE9AmpmZmZnZU0AAAAAAAMBLQAAAAAAAYFNAAAAAAACgU0DNzMzMzAxUQDMzMzMzs1NAzczMzMwsVECamZmZmZlPQAAAAAAAQFJAmpmZmZn5UkBmZmZmZsZRQM3MzMzMDFJAAAAAAACATEDNzMzMzAxQQAAAAAAAQFNAzczMzMzMSkAAAAAAACBQQAAAAAAAwFBAzczMzMxMVEDNzMzMzKxUQDMzMzMzE1BAmpmZmZlZTkDNzMzMzCxSQGZmZmZmRlRAMzMzMzMzT0CamZmZmVlUQAAAAAAAIFJAmpmZmZk5UkAAAAAAAIBNQM3MzMzMTExAAAAAAABAUUDNzMzMzAxPQDMzMzMzk1JAMzMzMzPzUkCamZmZmblUQDMzMzMzE1FAAAAAAACgUUAAAAAAAOBSQM3MzMzMbFFAMzMzMzNTVEDNzMzMzIxUQGZmZmZmxlRAAAAAAACAUkBmZmZmZuZUQAAAAAAAgFJAmpmZmZnZUUBmZmZmZgZQQAAAAAAAwFBAAAAAAADAUkCamZmZmZlRQGZmZmZmhlBAZmZmZmaGUkDNzMzMzKxTQDMzMzMz80hAmpmZmZnZTkAAAAAAAABSQAAAAAAAoFJAzczMzMyMVEBmZmZmZkZQQAAAAAAAgE5AMzMzMzPTUkCamZmZmVlTQAAAAAAAgExAAAAAAACAVECamZmZmdlPQM3MzMzMjFJAmpmZmZm5UkDNzMzMzMxQQDMzMzMz01FAmpmZmZk5UUCamZmZmRlTQAAAAAAA4FJAzczMzMwMTECamZmZmVlQQDMzMzMzs05AzczMzMxMUUDNzMzMzGxUQJqZmZmZWVRAmpmZmZlZUkDNzMzMzAxOQJqZmZmZWUpAAAAAAADgUkBmZmZmZoZUQGZmZmZmJlNAmpmZmZmZUEBmZmZmZmZTQJqZmZmZmU9AAAAAAABgUkAAAAAAAOBSQAAAAAAAoFFAZmZmZmZmU0BmZmZmZkZUQGZmZmZm5lNAmpmZmZm5UkDNzMzMzKxRQJqZmZmZuVBAAAAAAAAgUkBmZmZmZkZRQAAAAAAAoFJAmpmZmZmZUEAzMzMzM9NSQM3MzMzMTFJAMzMzMzMzSkAAAAAAAKBUQDMzMzMzM1NAZmZmZmZGVECamZmZmflRQAAAAAAAwEtAAAAAAAAAT0DNzMzMzMxUQGZmZmZmBlNAmpmZmZnZUkAAAAAAAABSQGZmZmZmxlFAMzMzMzOTVEDNzMzMzMxUQDMzMzMzc1FAmpmZmZl5UUBmZmZmZiZPQM3MzMzM7FJAzczMzMwMUUDNzMzMzMxNQJqZmZmZmVFAMzMzMzMzUkDNzMzMzOxSQM3MzMzMDFNAZmZmZmbmUECamZmZmVlOQM3MzMzMzFFAZmZmZmZGU0AzMzMzM1NUQDMzMzMzs1NAzczMzMxMU0DNzMzMzKxRQM3MzMzMbFFAMzMzMzMzUkBmZmZmZsZSQGZmZmZmhlBAZmZmZmZmTkAzMzMzMzNNQA==\"},\"colorscale\":[[0.0,\"rgb(255,247,236)\"],[0.125,\"rgb(254,232,200)\"],[0.25,\"rgb(253,212,158)\"],[0.375,\"rgb(253,187,132)\"],[0.5,\"rgb(252,141,89)\"],[0.625,\"rgb(239,101,72)\"],[0.75,\"rgb(215,48,31)\"],[0.875,\"rgb(179,0,0)\"],[1.0,\"rgb(127,0,0)\"]],\"opacity\":0.8,\"size\":7},\"mode\":\"markers\",\"name\":\"Scores\",\"textposition\":\"top center\",\"x\":{\"dtype\":\"f8\",\"bdata\":\"lxLlcxO++L\\u002fq5tu7JizlP0Va9Nn34tC\\u002fuJJpgmZDzr+mxBv5gx7qP47mh1+uhPU\\u002fKkFzuX6o6D+zlvu8cKvMv+IN6262AvO\\u002f1mmbXVDK7D8nVyYWnFXvP7UB7fts9qA\\u002fWp6VOFf9879pfBOSTqDfP3RXE3wtMeg\\u002fRwGtSihb4D9V90B13dz1PxTfyvTAdLW\\u002fXGpiXf1hvr8UySY2zfmOPx+WYho\\u002fXdW\\u002ftmu4Fn39+D+d3LS19gaBv7l\\u002fGHO1JfE\\u002fwB5ELmRL8b9BSoqUlID+v4\\u002fWtLwBePa\\u002f7Awb18Y1tL\\u002f2qLG3qxP2v53uzg403OA\\u002feJHeTXNOwT\\u002fRgbkDhUrAPxrgQevVG+S\\u002fqnDN2xvQ8D8cK6rstgDdv0AwcCycT+I\\u002fVjumk5332r\\u002fwUijt0sTqvwA1a84a4M0\\u002fSbg8eZ9A0z\\u002f5NQFOQrvVP6C\\u002fss6gxt2\\u002friJ9oIMD9L\\u002fpeBKt3dbrv9z7nRnvN\\u002fq\\u002fRxSbdlv00j9BRy2UumTdP8UQVGtinvE\\u002fiGTgDb49eL90dUGZgjL0P4cYPCSk\\u002f+8\\u002fg2VRobfT5T\\u002f6X8QXpyH4vw1BW\\u002fmxiuC\\u002fYhwgF\\u002fmOBEAjJCc3NTLjv2GkEGfS0e0\\u002f2P00UAm+6r9WPyDpdc31v\\u002fYhId6sPe8\\u002fDMtWZLIBoL+JqmESQULaP9RLZd3pLvO\\u002f2wLmTrSt2j8ekB3EdWngvwVHJDlMn+g\\u002ffU131U+l6z\\u002f2175pI+LXv9e\\u002fyMRWxru\\u002fdA8I2pxlyD+TI5LuEoDRvxmKFRsnAMg\\u002fan3K1VfO6r8ERLUw9R7ivxPJYaLBa\\u002fq\\u002fwOSYYwA8uD86D496p7WEP5eGe8DBDeY\\u002fGGg5q3aR0b8FcBrfzROWPzUAcdWDRem\\u002fnnoUVuL38j9Blqit5xvzv+4GkBidHOo\\u002f\\u002fxqo69Z44z8VyGSjTgnYvwhWL6LRjAZAdqA0vzma\\u002fz+9NBmNYhrkv4z7y7jua+2\\u002f5teuiIo9yr8cTrPTbuagP5p\\u002f+7JPCgdAI+oRTFN78T\\u002fcLDo4\\u002fa2wP0bSL0SUYt6\\u002f\\u002fURfMcg+yr\\u002f86pkKCoTyv4MQnaguN+a\\u002fPaJZHcHF3z+ZoB4LWynzv7VqMYWr0Oa\\u002fJ9sGt\\u002fGo679aYLLLOpfGPxaVez2GvtI\\u002f+FZtVLnb6z\\u002fP2HWL+6b8P+rUK4jesuE\\u002fCfdqBUWl5z9pQvetwEjRP7Wr4VtJscK\\u002fsvq+fGNc2D+Wsq1O4Znev5nhr+jOheU\\u002fij8IAVzq+b8mFfZm1RKzP35RGuf3beK\\u002fK5Uq3T741T+ncBhVjnD5v68zjl95TuE\\u002fXCYcUQuH2b\\u002f46vkL\\u002fJ\\u002fxv5liIIVjSuM\\u002fWMCoYg3s4L81b+8rVuroP5hlpi7tTe4\\u002fNOyzSAMTuj8HxBWU\\u002fAPkPzxgW85e\\u002fee\\u002fIRv\\u002fDFBF6L8cWVO7COXyv0hUkW+NMv8\\u002f27aDJRfk9b8DDcEKSjnhP5TksJ\\u002f0IPW\\u002fb\\u002fiq6MDQAUDxhmi6Q8bkv76YZE7w3PU\\u002fg3awMWGH77+iH0Twn53TP5HSPHdF4Pk\\u002foPLV64LV+b\\u002f0Mp0xPEzZP8w3KE6ke\\u002fy\\u002fyNYy4s\\u002f5+r\\u002fW8v0k1hWvP9yaTp0x\\u002ffG\\u002fSpQ7diYV\\u002fj9SjM1br1H2vyfliccCmO6\\u002f+L7HqUi28z+TVfZDNw7lPzNfGGW9ucE\\u002ftfkdcJZM+b80KYMq9uLsvxfTrEjdfa4\\u002fNrkL+I2lsb\\u002fVUdxnAnXmvysxlRczmZW\\u002fnxlnrA9x5L8DbHdO1qTgvzf0SOzmXghAUHv7g91D8T8z7Va4vC\\u002fAP6gCodWooN0\\u002f4CnF\\u002f8fB9j\\u002f\\u002fEnt0AMHjv4gd+hJS4eC\\u002fE5ZHJOK++T9QVU4oogH7v4qy4RF53AHAQCFzL+Uy3z+rPF1Jpgyiv0v0MyAO8Og\\u002fzpXH368T6T9oFjQpHpUEwHBwlSav7d6\\u002fZ1qTZEjl2D97JEkri6HfPw==\"},\"y\":{\"dtype\":\"f8\",\"bdata\":\"JWhBqCur4D+Ge\\u002ft2sczev0MJ1b55uMi\\u002fUJYy0AFE1z9SP6wqpQq5P+xgHATRqL2\\u002fbOGrQbXt0b++6DkWR5vRP6RI35I6OdU\\u002frcymmYgruL9VKsqqfvzHP1bWuqdwx+W\\u002fPfB7Buwvx799Osl2yEfFPzC5pymu49+\\u002fhKA879rP4T9MsJNaxknkPwy6KMlF2ds\\u002fYP4\\u002f6Zt+4z9TIPiFZmy+v6Jk\\u002fo7buOy\\u002fHS\\u002fKZnG34r9GyDom+ki3v7s\\u002flApt9sG\\u002ft4JFDYm67D\\u002fbGUjt10HrPyiHDrCjJdg\\u002fCWXDVZaGtj9Xm5YVOXDhv7WJTBoKk+I\\u002fohEBZIYTsT+3XGmnRnTdPwmNDSvLRtE\\u002fenk\\u002frXdF2r\\u002fCCZlDtpjmv+yj20tWZdG\\u002f36BcsgoM3T8IcTWgJW7gP4NIB+eJmtq\\u002fb1\\u002fYggwW5b\\u002fPoFeO1GbhP6ztQr\\u002fX0+g\\u002f3aMZb0Vr8b9l7RdR61bDP5COtL19JtE\\u002fmUBlkDuhxT\\u002fglwYdhXnKPz+vSLpJ49g\\u002fyZ7ApjWb3r+9JRvFSdPgP8DbNw+n4rM\\u002fLIW8v+z\\u002fwL9NRGzGi5Hav8pQvCrlkeM\\u002fHGAsH8rlzL+01oIPARrwv+t3JeD1zuM\\u002fCZCtzQuJwr+m5mh3H5XJvzCh88PTQ9Y\\u002fHCq8Dxuw2D\\u002f\\u002fMhkxLFq1v2bIH9BxWMA\\u002f\\u002fouSnjq30D9St124TkrcPw672ISeINU\\u002fqNKcY+bFt7\\u002f9w\\u002fqe6o+jv0twqmJ6Ncg\\u002fw\\u002fTEaD2r3T+0yJXdNs0+P1GFdgKO4aQ\\u002fdbyBfNDO5z+YSyIFsBTGv9vbbnmr19o\\u002f2KeEJZse8r\\u002f5kahWhumzv7eXPf1VKNo\\u002fDW7D8nzcyD8ZsUnm+ZvIP7uyjAk34Le\\u002f7uizUQgMz7\\u002fhcC6NqNLrv0R0WwP\\u002fI8o\\u002fLygM7t6C07\\u002fm8+tBfLXMv35vZL0CQ+A\\u002f3TVYxkdweb\\u002fpv3z5LKLFP4KFqDqPd98\\u002fvQLvXmX55z8T\\u002fb8TPu3Zv9pkouElNqC\\u002fD2GK8Mhg0r9sb15OnznGv0DKOsViEO8\\u002faAP5pP8Gxz\\u002fcRqyOkDrgv4gZIzIqpOW\\u002fmbvVOYTV4L\\u002fVIAD3t7fFvwLsgwYY4dI\\u002fi41qgMNZ2D8KTjQRrSHiP\\u002fw4xj40Q9i\\u002fk6FFjhgkw7+Fmavgs5PIP\\u002fW05B7DmcS\\u002fnp3SwMvM4D\\u002fx1bx6s\\u002fjov8C4mm0mnc0\\u002fRZcsbkhL6788rlKVhi\\u002fIP3toLF66NeC\\u002fFBJ299bFzb\\u002fvr\\u002fKyov+6PzsWlCzCbds\\u002fuN2SO8yszD8I+Sj3JhGgv0QtZQ2Iltw\\u002fixRPl3z2479xhJWec\\u002f3Tv8Np5Zj7Vsm\\u002fI1eMwvPT4z+xgLWfpc7Vv5ee2rjfJrG\\u002fN3xtlNscor8p8E16OeTOv\\u002fd96sxzqeK\\u002fzbYJ58U76D9gc7tpkpxkP5q2CNiG60u\\u002fuhxxOvPU7j8dhjc5hIqxv7rXW0Zyhci\\u002f6\\u002fIujEfZ0D+xw9xQr93TP1b0QqkhR78\\u002fqHGmPzlahz+55BuKMErlv3ceOYedJOC\\u002f5BJFhyAV3T\\u002fNbrz48pf9v47K8cQXrtM\\u002fo0koBRj6ob8fb+rGBP3hvzEAaxFUENE\\u002fS434tQNOz78MrKfjLF7Nv6zknNozBN2\\u002femXChRt+8j8Z\\u002f3GDPuvUPzM79lRlf9A\\u002fHBmaQkjG0L9HRKhyaDHUv4P7QKaOK+A\\u002fLOQuHFNVmL9vJTEJUNbNv7KTJyObULQ\\u002fQ43RKDqG6b9bpDkHVkO0P8fJbS03nrA\\u002fykYzf1dq4D9r4pVrOMHJP\\u002fJaLeTeJMk\\u002f3MKqPu8M6D9+jH1Ypdbgvxfvv5+1TOW\\u002fh9I7dx+7xj\\u002f\\u002fNBNrRcG\\u002fvz+o766r69U\\u002fqR24WTZr3r\\u002fGHFhXMxS4v1AbLeMTote\\u002fiWjXEsl427+IyOL27Yzlv01+2Pikfto\\u002fvH+eGGx95r\\u002fqz\\u002fWOQ2Hdvw==\"},\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.9922525126995279],\"y\":[0,2.5563679319174817],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"status_developed\"],\"textposition\":\"top center\",\"x\":[-1.9922525126995279],\"y\":[2.5563679319174817],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,2.5893880549239365],\"y\":[0,2.458614353849519],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"bmi\"],\"textposition\":\"top center\",\"x\":[2.5893880549239365],\"y\":[2.458614353849519],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.4279172416773997],\"y\":[0,-0.2178169698665219],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"gdp\"],\"textposition\":\"top center\",\"x\":[0.4279172416773997],\"y\":[-0.2178169698665219],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.8493482407793413],\"y\":[0,0.5887918316790738],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"percentage_expenditure\"],\"textposition\":\"top center\",\"x\":[1.8493482407793413],\"y\":[0.5887918316790738],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.6538819604657887],\"y\":[0,1.0907478923363534],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"alcohol\"],\"textposition\":\"top center\",\"x\":[-0.6538819604657887],\"y\":[1.0907478923363534],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.7226175551597539],\"y\":[0,0.9898375471928116],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"thinness_1_19_years\"],\"textposition\":\"top center\",\"x\":[-0.7226175551597539],\"y\":[0.9898375471928116],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.4779606711157353],\"y\":[0,1.3185546005245359],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"under_five_deaths\"],\"textposition\":\"top center\",\"x\":[0.4779606711157353],\"y\":[1.3185546005245359],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.6344730254031812],\"y\":[0,-1.8081668006575526],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"hiv_aids\"],\"textposition\":\"top center\",\"x\":[1.6344730254031812],\"y\":[-1.8081668006575526],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.8000897437533011],\"y\":[0,0.6449567112025165],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"thinness_5_9_years\"],\"textposition\":\"top center\",\"x\":[-0.8000897437533011],\"y\":[0.6449567112025165],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.6971634143795554],\"y\":[0,1.0606837420135526],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"adult_mortality\"],\"textposition\":\"top center\",\"x\":[0.6971634143795554],\"y\":[1.0606837420135526],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.2292719794709634],\"y\":[0,-0.3826344701329437],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"diphtheria\"],\"textposition\":\"top center\",\"x\":[0.2292719794709634],\"y\":[-0.3826344701329437],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.911168792165704],\"y\":[0,-0.3065985807205387],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"total_expenditure\"],\"textposition\":\"top center\",\"x\":[-1.911168792165704],\"y\":[-0.3065985807205387],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"white\",\"polar\":{\"bgcolor\":\"white\",\"angularaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"white\",\"aaxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"white\",\"subunitcolor\":\"#C8D4E3\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"xaxis\":{\"title\":{\"text\":\"PC4\"}},\"yaxis\":{\"title\":{\"text\":\"PC10\"}},\"legend\":{\"orientation\":\"h\",\"yanchor\":\"bottom\",\"y\":1.02,\"xanchor\":\"right\",\"x\":1},\"title\":{\"text\":\"supervised Biplot\"},\"width\":900,\"height\":700},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('ffbfb3ac-ff3b-4f59-b9e6-4eb2e7dc926b');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n\nBiplot for the supervised PCs 4 and 10.\n:::\n:::\n\n\n**PC5 and PC8 — “Secondary development/health structure axes.”**\nPC5 and PC8 have positive coefficients in the final model, indicating that moving along their life-expectancy–increasing directions\nis associated with higher life expectancy, conditional on the dominant mortality/development gradients.\nBased on the loadings heatmap, these PCs correspond to contrasts mixing development proxies, expenditure structure, nutrition, and infectious disease burden.\nIn practice, these axes capture predictable second-order structure: once the main mortality–development gradient (PC1) is accounted for,\nthere remains residual variation that separates countries by spending composition, nutrition, and disease patterns.\n\n::: {#cell-supervised-pca-biplot-pc5-pc8 .cell execution_count=24}\n``` {.python .cell-code code-fold=\"true\"}\npc_axes = [\"PC5\", \"PC8\"]\nif len(pc_axes) == 2:\n    biplot_fig = plot_biplot_plotly(\n        group_res,\n        dims=2,\n        pc_axes=pc_axes,\n        top_features=12,\n        color=train_full.loc[group_res.pc_scores.index, LECol.TARGET],\n    )\n    biplot_fig.show()\n```\n\n::: {#supervised-pca-biplot-pc5-pc8 .cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.3.0.min.js\" integrity=\"sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=\" crossorigin=\"anonymous\"></script>                <div id=\"1ba4fb3a-ac91-4d72-8c12-7b2cf5d14016\" class=\"plotly-graph-div\" style=\"height:700px; width:900px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"1ba4fb3a-ac91-4d72-8c12-7b2cf5d14016\")) {                    Plotly.newPlot(                        \"1ba4fb3a-ac91-4d72-8c12-7b2cf5d14016\",                        [{\"marker\":{\"color\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAACAT0AzMzMzM3NTQJqZmZmZ+VJAZmZmZmZmTUAzMzMzMxNTQJqZmZmZ+VJAMzMzMzOTUkAzMzMzM5NUQAAAAAAAYFRAAAAAAAAAUkAzMzMzMzNSQGZmZmZmJlNAzczMzMzMUUDNzMzMzKxTQAAAAAAAQFJAMzMzMzNTVEAzMzMzM3NSQGZmZmZmJk5AAAAAAACAUUCamZmZmXlRQM3MzMzMLFNAMzMzMzOTUEDNzMzMzKxSQM3MzMzMzFJAAAAAAACgUkAAAAAAAMBNQJqZmZmZ2U1AmpmZmZn5UUAzMzMzMxNRQM3MzMzMjExAMzMzMzNzVEDNzMzMzAxJQGZmZmZmZkpAAAAAAADgU0BmZmZmZuZSQDMzMzMzE1NAmpmZmZmZT0BmZmZmZmZNQM3MzMzMTE9AmpmZmZnZU0AAAAAAAMBLQAAAAAAAYFNAAAAAAACgU0DNzMzMzAxUQDMzMzMzs1NAzczMzMwsVECamZmZmZlPQAAAAAAAQFJAmpmZmZn5UkBmZmZmZsZRQM3MzMzMDFJAAAAAAACATEDNzMzMzAxQQAAAAAAAQFNAzczMzMzMSkAAAAAAACBQQAAAAAAAwFBAzczMzMxMVEDNzMzMzKxUQDMzMzMzE1BAmpmZmZlZTkDNzMzMzCxSQGZmZmZmRlRAMzMzMzMzT0CamZmZmVlUQAAAAAAAIFJAmpmZmZk5UkAAAAAAAIBNQM3MzMzMTExAAAAAAABAUUDNzMzMzAxPQDMzMzMzk1JAMzMzMzPzUkCamZmZmblUQDMzMzMzE1FAAAAAAACgUUAAAAAAAOBSQM3MzMzMbFFAMzMzMzNTVEDNzMzMzIxUQGZmZmZmxlRAAAAAAACAUkBmZmZmZuZUQAAAAAAAgFJAmpmZmZnZUUBmZmZmZgZQQAAAAAAAwFBAAAAAAADAUkCamZmZmZlRQGZmZmZmhlBAZmZmZmaGUkDNzMzMzKxTQDMzMzMz80hAmpmZmZnZTkAAAAAAAABSQAAAAAAAoFJAzczMzMyMVEBmZmZmZkZQQAAAAAAAgE5AMzMzMzPTUkCamZmZmVlTQAAAAAAAgExAAAAAAACAVECamZmZmdlPQM3MzMzMjFJAmpmZmZm5UkDNzMzMzMxQQDMzMzMz01FAmpmZmZk5UUCamZmZmRlTQAAAAAAA4FJAzczMzMwMTECamZmZmVlQQDMzMzMzs05AzczMzMxMUUDNzMzMzGxUQJqZmZmZWVRAmpmZmZlZUkDNzMzMzAxOQJqZmZmZWUpAAAAAAADgUkBmZmZmZoZUQGZmZmZmJlNAmpmZmZmZUEBmZmZmZmZTQJqZmZmZmU9AAAAAAABgUkAAAAAAAOBSQAAAAAAAoFFAZmZmZmZmU0BmZmZmZkZUQGZmZmZm5lNAmpmZmZm5UkDNzMzMzKxRQJqZmZmZuVBAAAAAAAAgUkBmZmZmZkZRQAAAAAAAoFJAmpmZmZmZUEAzMzMzM9NSQM3MzMzMTFJAMzMzMzMzSkAAAAAAAKBUQDMzMzMzM1NAZmZmZmZGVECamZmZmflRQAAAAAAAwEtAAAAAAAAAT0DNzMzMzMxUQGZmZmZmBlNAmpmZmZnZUkAAAAAAAABSQGZmZmZmxlFAMzMzMzOTVEDNzMzMzMxUQDMzMzMzc1FAmpmZmZl5UUBmZmZmZiZPQM3MzMzM7FJAzczMzMwMUUDNzMzMzMxNQJqZmZmZmVFAMzMzMzMzUkDNzMzMzOxSQM3MzMzMDFNAZmZmZmbmUECamZmZmVlOQM3MzMzMzFFAZmZmZmZGU0AzMzMzM1NUQDMzMzMzs1NAzczMzMxMU0DNzMzMzKxRQM3MzMzMbFFAMzMzMzMzUkBmZmZmZsZSQGZmZmZmhlBAZmZmZmZmTkAzMzMzMzNNQA==\"},\"colorscale\":[[0.0,\"rgb(255,247,236)\"],[0.125,\"rgb(254,232,200)\"],[0.25,\"rgb(253,212,158)\"],[0.375,\"rgb(253,187,132)\"],[0.5,\"rgb(252,141,89)\"],[0.625,\"rgb(239,101,72)\"],[0.75,\"rgb(215,48,31)\"],[0.875,\"rgb(179,0,0)\"],[1.0,\"rgb(127,0,0)\"]],\"opacity\":0.8,\"size\":7},\"mode\":\"markers\",\"name\":\"Scores\",\"textposition\":\"top center\",\"x\":{\"dtype\":\"f8\",\"bdata\":\"hAVQXR7t5z9n\\u002fopqilXmv8jr3DfCed6\\u002fWIrf6h9k7T\\u002fgs2ur0zPjP8jt7NQm68W\\u002fwW+yAfvmxr+h3+F0+uHqP\\u002fUeM83Fpu4\\u002fDTTJhD8y479853b7njTKv6h+EnTfle0\\u002fWlXKcsyZ5j8Aw8xJMuWyvxNINKT+o8Y\\u002fggZa\\u002fHaR\\u002fD\\u002f4AAuDnV\\u002fQvwpuKwHk3dE\\u002fW7OTi8wj6z9AnC9SvekFwBW0J+dnY6O\\u002fqXOAHxnO6T9VCq21PHTpv+LzB3TrcOQ\\u002fj4\\u002fLi3eBx7+8OcagsNzeP1QYeWYRUNm\\u002fp5WS8IOe6D9z0+hFABG+vyThjT3Yw64\\u002f\\u002fRBDqvaW7D\\u002fiabgO4oPYP6aMzWMIAdo\\u002fntdDxv3p1L9vAz\\u002fNFEmOvyS2FfHJ97M\\u002fQokgkAb9z7+fcLVtFSvnP7oFyvLrJuU\\u002fwGODX9PV4r\\u002f0Bn9RFpLHP99NgzLWtts\\u002fizjdKKbJ9r+4rOm6++KtvwRZXsEMbva\\u002fvCD0m7w9A0AxSMD4djvQPzOmrKxxvuA\\u002fQx5u3nZX8L96XruoQqLsv3xkPrM1heW\\u002fjZPOzK+t7T\\u002fhNd1oiMzdv9NjfW6qVvQ\\u002fTWroQWlW7b+6m3i6HNzJv+gwYgATEe6\\u002fLjyrxhaP7D+aYk1mBlPnPwWxuB6dD\\u002fg\\u002fAm0C4eSWaL+yJOYAGj3cv\\u002fIa4jyJ6ss\\u002fcW5X7d25xz8t0eWF0vGyP9XFCHweL9I\\u002fCqiesbRg07+NsGz+KDDUP1IUnFHZwJ2\\u002fgCz+WqRr8b+uf8hbS6nyv3xowEVZjfK\\u002fNsgrs7y+wr+twhC\\u002fuXH0P9TdYtPOsv8\\u002f5TW1+R686D+jBQ2BmRnQP9lYNnXGttK\\u002fLzB7O9WDlj8vSYSz2g\\u002fmP6Up+E4qYuY\\u002fGQ3n3orG0L9VMeiryWj9P5lSx8QdE\\u002fa\\u002fKrAl4w8I5L+8P9JEjczuP5GQbq0dAfu\\u002flkvrVdcc6D9gG5Eys93+v8q2va61Wew\\u002fqmX7egFM8T8GDNGGEBbcPxCNqPehqcQ\\u002fow+o3c\\u002fk6T+NjCC+er\\u002f1v6aLwlS64\\u002fI\\u002fQpFwVsTH+T8PDEuBTd\\u002fOP0YZ7x\\u002fCl+u\\u002fH1\\u002f0+7Ie8j+Owk3dbQzVP7CTvN4tmJe\\u002fjo8oFXCn279HSEfw8hzVP6W\\u002fWV1oa+A\\u002fEtMHtiCj478\\u002fX8KfF+n5v1vIpa9LD\\u002fK\\u002fxnLIhO+g479UjHcIuBDSP6Q\\u002fHj9Y6pS\\u002fb7zGkquE4r85vur8crDwPxVVTKplIOg\\u002fno2APMvY1z+Z2OLjI1P6P9CIOx5MFt6\\u002fzr3uL6rM9r\\u002fLWvHJof\\u002fNv08onuRdSug\\u002fftKAcijX\\u002f78yvHwNnXtUP3BUuWXNg+A\\u002fDg2cI+16+T9WYzYPWXfIP9XNkKYRWs2\\u002fVf3FTrHz479inCKDlqrXP0WTBjurJ94\\u002fvxfvJ\\u002f4N1D9KhNUTL\\u002frdvy1eVAfpy\\u002fo\\u002fyo05qQgg5r8y2mD2UuyyvzzG\\u002fBYbmfC\\u002fjWIzdEMX+L8AxZKQavTHv6pMp2mtaew\\u002frf\\u002fKIcYjxz+JIMGafFHMvzcIGx0TWNw\\u002fSOvUhhlK+7+M7kw0WHz+PxZyDN+0ePu\\u002f1n3Z\\u002f3I01r+MtZKDia35vyM+LnYPo\\u002fK\\u002f2WLuPbtr1j8exltBvknpv9nf5lSk5fA\\u002fIgyP\\u002fdt75r+sWmBiE7HXv4a101wwgfk\\u002fGbCDeVPV3z+hXJy35L\\u002ftP24qkNnEteu\\u002fKIHY9Gbn+7+mNyxuwxTyv0GKumfXwfE\\u002fzRC4+JL26z9q25Z+rTflv3jpLtVkagDAh845AwBv6j9YpUgk8LOzP8ygWCZDR6c\\u002fOx8lP7Syuj8gUibqHpLOv3oVedHKuOO\\u002fj3XAwEpO8T9exPVVlgv5v8Wg+XXDZgjAuABmLXFF4r+81mq\\u002fTzwBwDXsEL6Q0qE\\u002fn2Fzxm\\u002fLrb9\\u002f6kqY\\u002f0fAv9HI3bMHWuw\\u002f8v\\u002fmQgxr8j+qGW4ISlbjvw==\"},\"y\":{\"dtype\":\"f8\",\"bdata\":\"IGnsUfhR6z\\u002frYqw59lruv1KYCGKv3rQ\\u002fHuh5voS53z9Aq509CXbTv5LnEhDRv+C\\u002f40tB\\u002fFdQ1b8qo8JZPGzTvwQsSCPHm82\\u002fcv8YYCIV0b99Z0+NamXnP9ickK9M7dA\\u002f7dTFwuLGz7+dwo3wne3rPx155hOl0cO\\u002fSHVQjYUn8b91MmN\\u002fJa\\u002fbP8XkD9PNMuq\\u002fEVjPkAVO5r\\u002fOaCTT8FHjv2nTZmaKAa4\\u002fX2cIhy7a1T\\u002fXNgp91fN0P5FVxD6UkNU\\u002fuYxPlXTMo78IRRe+AD3dPycp\\u002f5dF1PO\\u002fa+0RR0170r+piHWnuanjv\\u002fqphbIgZtC\\u002f7cyrv8OGtz85pXNFEuDbv2j1SQIjzeC\\u002fuKQgNtA217\\u002fbuEQV5NTqv7LyoJdMJeK\\u002f2BT608DQ2b8eWE6wmMLcv\\u002f0jhgS4RrY\\u002flwM2fH9Jwz+XcWgETnfkv\\u002fTrqRD9Ntq\\u002f8hqx9tnm5T+64m1oQZfJvxamK+zu+u4\\u002fm+fQpnzy5L8ywRb3TeTkv81Tq59fBtW\\u002feWPSATGk2j+PS6UBu7zSP2f41fYcHOm\\u002fbFhAWOvc9j+OzVjnQI\\u002fuv5j\\u002fzGcsqoy\\u002f1h4DihSMpb8Ls6AWTdUDwMDH5jJTK2a\\u002f+Ytr5tdc4L+W5BjSF2nov62kC2PbW+Y\\u002fuNISeERW6r8oim3125LlPwlE5g4wFtU\\u002fmya87HCn4L9Gvd0IDo\\u002fpvwrq5ePasr4\\u002fa\\u002ft91HN67L+QAr7\\u002f9uzXvxiFVuidod+\\u002fZO\\u002fYy8Je3D\\u002fVO8dSAg++P9ImMHPfePC\\u002ffUE7ZYWfx7+peJXQ97jBv4Zc6lpcavA\\u002fU5o38iKG1782mDQ4NnnoP5M2swiX6vM\\u002fbK1FchOH1r80Hb25gULLvx+scRPlpuu\\u002fqQXxi+lmtT87PZ\\u002f5NV\\u002fUvwgGegYZ8N0\\u002fEznrE5uFzz8fjh76CZvpP17MqMvfOPO\\u002fA3mApmZL2T8emJ75FjTrPwKUwHhkysq\\u002fAEV06IUuvj\\u002ftKnkME6\\u002f4P\\u002fLLuyCHS92\\u002fRUlfuc7yxz8wYvya+Vn0Pxyf5acn+cA\\u002fhan3xMt74r\\u002f\\u002fY4wD8nfTv0yg\\u002fC5nntC\\u002fdzwkVlU12z9ZEzjqV8vhP8DzfRUeT+G\\u002fQB3QLUuh4L+\\u002fZ8F\\u002feqnEv+UMej8htOM\\u002fZBQP1Y6OlT\\u002fBl3LijQXdvy+Xa\\u002fYvQes\\u002ftFJpambm8L\\u002fKh8UGmavEPyjgxszQybW\\u002fzeBE5AXU778JKno5tRPNv0Lr9fnXRuc\\u002fro3z7NC32j9B4\\u002fedF9vlv7eF7Nddrbu\\u002fXRRh5fp48b\\u002fMCpE7\\u002frXdv1kKlARPhem\\u002fYvVhixoW4D9TVxgDuInZPz5epBuTr9g\\u002f1l2njYNA8j+43LaZGeTFP\\u002fy5AayfNvG\\u002fJihIV61uxr8HpAm2OwbCP3i1o8FaodE\\u002fKpPi4W\\u002fFwr\\u002frmwFg+Efwv985BShzfO4\\u002fsIl8Jq9Y5j\\u002fCFBRRlB7Rv9nOTshnCfO\\u002fQWUkYy9U2z\\u002fidhpD+VPXv2KykheXpug\\u002fVbCPm7OCyb8E81f2\\u002fDLVP0xeZ1h3m+k\\u002fbXtQyPuLrb8nJeJj6\\u002fbSv5PV3ZCfKdo\\u002fTcB23nQc4T\\u002fKxZI3Lq7YvzPg8PAJVdW\\u002fPgSSgcQf\\u002fD9lcsvMMk7cvxcOQQgKleQ\\u002fAoM1UUFQ5T\\u002fBA+QEL4m2P2V0YVqRZgBACIBcXRGPyT++80wOAPvnv15o53uCivw\\u002fc4QESx7RyL9lCxvF6W7IP0PyB9quXdi\\u002fOiyO0\\u002fr777+Q+wbVHJTLvyUgd4HL4de\\u002fa4eYMfJ\\u002f6z\\u002fC40M1bEXJvx6ZSQaRkeo\\u002f7lGSEjVB7b9EPN1LIyyjP3WHxzK0TPw\\u002f4Woh3Wew3z+wJYI2fwHwPxPbT7IbN\\u002fo\\u002fmf6P9Y\\u002f6wr+7TRAaWfPKP+K0FlhQqOC\\u002ffODYukAV2D\\u002fIVJWYnyL0P1J7t8wswMe\\u002f65685aGT5j9KP2MWhGXgPw==\"},\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.6991884005691296],\"y\":[0,-0.5741256348281378],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"status_developed\"],\"textposition\":\"top center\",\"x\":[0.6991884005691296],\"y\":[-0.5741256348281378],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.4194223133977093],\"y\":[0,1.6900378553712954],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"bmi\"],\"textposition\":\"top center\",\"x\":[-1.4194223133977093],\"y\":[1.6900378553712954],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.1133966426439226],\"y\":[0,1.0918887874607928],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"gdp\"],\"textposition\":\"top center\",\"x\":[1.1133966426439226],\"y\":[1.0918887874607928],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,2.5926508745464907],\"y\":[0,-1.4387250471035913],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"percentage_expenditure\"],\"textposition\":\"top center\",\"x\":[2.5926508745464907],\"y\":[-1.4387250471035913],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.27096843981733154],\"y\":[0,0.20334402193217438],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"alcohol\"],\"textposition\":\"top center\",\"x\":[0.27096843981733154],\"y\":[0.20334402193217438],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.1476895966142027],\"y\":[0,1.6470589920368968],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"thinness_1_19_years\"],\"textposition\":\"top center\",\"x\":[1.1476895966142027],\"y\":[1.6470589920368968],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.48839246054234836],\"y\":[0,-0.617154213514837],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"under_five_deaths\"],\"textposition\":\"top center\",\"x\":[-0.48839246054234836],\"y\":[-0.617154213514837],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.1684404651899802],\"y\":[0,0.7681035944270002],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"hiv_aids\"],\"textposition\":\"top center\",\"x\":[0.1684404651899802],\"y\":[0.7681035944270002],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,1.2371072747303862],\"y\":[0,1.4451787720128753],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"thinness_5_9_years\"],\"textposition\":\"top center\",\"x\":[1.2371072747303862],\"y\":[1.4451787720128753],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.37923564148751165],\"y\":[0,-0.5297367393794801],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"adult_mortality\"],\"textposition\":\"top center\",\"x\":[-0.37923564148751165],\"y\":[-0.5297367393794801],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.17746600971611035],\"y\":[0,0.6059507161553306],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"diphtheria\"],\"textposition\":\"top center\",\"x\":[0.17746600971611035],\"y\":[0.6059507161553306],\"type\":\"scatter\"},{\"line\":{\"color\":\"firebrick\",\"width\":2},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.550310881057103],\"y\":[0,0.4464499368903477],\"type\":\"scatter\"},{\"marker\":{\"color\":\"firebrick\",\"size\":6},\"mode\":\"markers+text\",\"showlegend\":false,\"text\":[\"total_expenditure\"],\"textposition\":\"top center\",\"x\":[-1.550310881057103],\"y\":[0.4464499368903477],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"white\",\"polar\":{\"bgcolor\":\"white\",\"angularaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"white\",\"aaxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"white\",\"subunitcolor\":\"#C8D4E3\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"xaxis\":{\"title\":{\"text\":\"PC5\"}},\"yaxis\":{\"title\":{\"text\":\"PC8\"}},\"legend\":{\"orientation\":\"h\",\"yanchor\":\"bottom\",\"y\":1.02,\"xanchor\":\"right\",\"x\":1},\"title\":{\"text\":\"supervised Biplot\"},\"width\":900,\"height\":700},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('1ba4fb3a-ac91-4d72-8c12-7b2cf5d14016');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n\nBiplot for the supervised PCs 5 and 8.\n:::\n:::\n\n\n### Interactions in the final model (PC3:PC4 and PC10:PC4)\n\nThe final model includes two interactions:\n\n- PC3:PC4 with a **positive** coefficient ($\\beta_{34} > 0$)\n- PC10:PC4 with a **positive** coefficient ($\\beta_{10,4} > 0$)\n\nThis implies effect modification. The marginal effects are:\n\n$$\n\\frac{\\partial \\hat{y}}{\\partial PC3} = \\beta_{PC3} + \\beta_{34}\\,PC4,\\qquad\n\\frac{\\partial \\hat{y}}{\\partial PC10} = \\beta_{PC10} + \\beta_{10,4}\\,PC4.\n$$\n\nSince $\\beta_{PC3} < 0$ and $\\beta_{34} > 0$, the negative association of PC3 with life expectancy is **attenuated** at higher PC4 values\nand **stronger (more negative)** at lower PC4 values. Numerically, a one-unit increase in PC4 changes the marginal effect of PC3 by $\\beta_{34}$,\nso PC4 acts as a buffer/moderator of the PC3-related burden axis.\n\nSimilarly, since $\\beta_{PC10} < 0$ and $\\beta_{10,4} > 0$, the negative association of PC10 is also **attenuated** at higher PC4 values.\nSubstantively, these interactions mean: the life-expectancy penalty associated with the PC3/PC10 “burden/development contrasts” depends on the structural axis represented by PC4.\nThe concrete interpretation should be stated using the top loadings of PC3, PC4, and PC10 (e.g., “HIV/mortality burden is less harmful at higher values of the spending/nutrition axis”, if that is what PC4 encodes).\n\n### Remaining retained PCs (PC6, PC7, PC9, PC11, PC13, PC14, PC17)\n\nThe remaining retained PCs represent additional orthogonal directions that are statistically detectable but smaller than the dominant axes above.\nTo interpret them without overclaiming, we recommend documenting, for each PCk:\n\n- the **top positive and negative loadings** (top 5–10 by $|loading|$),\n- a short axis label (“immunization coverage contrast”, “nutrition deficiency contrast”, “spending composition contrast”, etc.),\n- and a one-sentence association statement consistent with the coefficient sign:\n  “moving toward the [loading-defined] side of PCk is associated with higher/lower life expectancy (conditional on the other PCs).”\n\nBecause these PCs are orthogonal and were selected after screening/selection, they should be treated as refining axes\nrather than standalone causal drivers. In the main text, it is usually sufficient to interpret 3–5 of the most influential PCs\n(PC1, PC3, PC4, PC10, plus one of PC5/PC8), and place the full loading summaries for all PCs into an appendix/callout.\n\n::: {#cell-supervised-pca-biplot-3d .cell execution_count=25}\n``` {.python .cell-code code-fold=\"true\"}\npc_axes_3d = [pc for pc in [\"PC6\", \"PC7\", \"PC9\"] if pc in kept_pc_names]\nif len(pc_axes_3d) == 3:\n    biplot_fig_3d = plot_biplot_plotly(\n        group_res,\n        dims=3,\n        pc_axes=pc_axes_3d,\n        top_features=10,\n        color=train_full.loc[group_res.pc_scores.index, LECol.TARGET],\n    )\n    biplot_fig_3d.show()\n```\n\n::: {#supervised-pca-biplot-3d .cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.3.0.min.js\" integrity=\"sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=\" crossorigin=\"anonymous\"></script>                <div id=\"6a615dda-d159-46d7-9ce2-1258b4313a6a\" class=\"plotly-graph-div\" style=\"height:700px; width:900px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"6a615dda-d159-46d7-9ce2-1258b4313a6a\")) {                    Plotly.newPlot(                        \"6a615dda-d159-46d7-9ce2-1258b4313a6a\",                        [{\"marker\":{\"color\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAACAT0AzMzMzM3NTQJqZmZmZ+VJAZmZmZmZmTUAzMzMzMxNTQJqZmZmZ+VJAMzMzMzOTUkAzMzMzM5NUQAAAAAAAYFRAAAAAAAAAUkAzMzMzMzNSQGZmZmZmJlNAzczMzMzMUUDNzMzMzKxTQAAAAAAAQFJAMzMzMzNTVEAzMzMzM3NSQGZmZmZmJk5AAAAAAACAUUCamZmZmXlRQM3MzMzMLFNAMzMzMzOTUEDNzMzMzKxSQM3MzMzMzFJAAAAAAACgUkAAAAAAAMBNQJqZmZmZ2U1AmpmZmZn5UUAzMzMzMxNRQM3MzMzMjExAMzMzMzNzVEDNzMzMzAxJQGZmZmZmZkpAAAAAAADgU0BmZmZmZuZSQDMzMzMzE1NAmpmZmZmZT0BmZmZmZmZNQM3MzMzMTE9AmpmZmZnZU0AAAAAAAMBLQAAAAAAAYFNAAAAAAACgU0DNzMzMzAxUQDMzMzMzs1NAzczMzMwsVECamZmZmZlPQAAAAAAAQFJAmpmZmZn5UkBmZmZmZsZRQM3MzMzMDFJAAAAAAACATEDNzMzMzAxQQAAAAAAAQFNAzczMzMzMSkAAAAAAACBQQAAAAAAAwFBAzczMzMxMVEDNzMzMzKxUQDMzMzMzE1BAmpmZmZlZTkDNzMzMzCxSQGZmZmZmRlRAMzMzMzMzT0CamZmZmVlUQAAAAAAAIFJAmpmZmZk5UkAAAAAAAIBNQM3MzMzMTExAAAAAAABAUUDNzMzMzAxPQDMzMzMzk1JAMzMzMzPzUkCamZmZmblUQDMzMzMzE1FAAAAAAACgUUAAAAAAAOBSQM3MzMzMbFFAMzMzMzNTVEDNzMzMzIxUQGZmZmZmxlRAAAAAAACAUkBmZmZmZuZUQAAAAAAAgFJAmpmZmZnZUUBmZmZmZgZQQAAAAAAAwFBAAAAAAADAUkCamZmZmZlRQGZmZmZmhlBAZmZmZmaGUkDNzMzMzKxTQDMzMzMz80hAmpmZmZnZTkAAAAAAAABSQAAAAAAAoFJAzczMzMyMVEBmZmZmZkZQQAAAAAAAgE5AMzMzMzPTUkCamZmZmVlTQAAAAAAAgExAAAAAAACAVECamZmZmdlPQM3MzMzMjFJAmpmZmZm5UkDNzMzMzMxQQDMzMzMz01FAmpmZmZk5UUCamZmZmRlTQAAAAAAA4FJAzczMzMwMTECamZmZmVlQQDMzMzMzs05AzczMzMxMUUDNzMzMzGxUQJqZmZmZWVRAmpmZmZlZUkDNzMzMzAxOQJqZmZmZWUpAAAAAAADgUkBmZmZmZoZUQGZmZmZmJlNAmpmZmZmZUEBmZmZmZmZTQJqZmZmZmU9AAAAAAABgUkAAAAAAAOBSQAAAAAAAoFFAZmZmZmZmU0BmZmZmZkZUQGZmZmZm5lNAmpmZmZm5UkDNzMzMzKxRQJqZmZmZuVBAAAAAAAAgUkBmZmZmZkZRQAAAAAAAoFJAmpmZmZmZUEAzMzMzM9NSQM3MzMzMTFJAMzMzMzMzSkAAAAAAAKBUQDMzMzMzM1NAZmZmZmZGVECamZmZmflRQAAAAAAAwEtAAAAAAAAAT0DNzMzMzMxUQGZmZmZmBlNAmpmZmZnZUkAAAAAAAABSQGZmZmZmxlFAMzMzMzOTVEDNzMzMzMxUQDMzMzMzc1FAmpmZmZl5UUBmZmZmZiZPQM3MzMzM7FJAzczMzMwMUUDNzMzMzMxNQJqZmZmZmVFAMzMzMzMzUkDNzMzMzOxSQM3MzMzMDFNAZmZmZmbmUECamZmZmVlOQM3MzMzMzFFAZmZmZmZGU0AzMzMzM1NUQDMzMzMzs1NAzczMzMxMU0DNzMzMzKxRQM3MzMzMbFFAMzMzMzMzUkBmZmZmZsZSQGZmZmZmhlBAZmZmZmZmTkAzMzMzMzNNQA==\"},\"colorscale\":[[0.0,\"rgb(255,247,236)\"],[0.125,\"rgb(254,232,200)\"],[0.25,\"rgb(253,212,158)\"],[0.375,\"rgb(253,187,132)\"],[0.5,\"rgb(252,141,89)\"],[0.625,\"rgb(239,101,72)\"],[0.75,\"rgb(215,48,31)\"],[0.875,\"rgb(179,0,0)\"],[1.0,\"rgb(127,0,0)\"]],\"opacity\":0.8,\"size\":4},\"mode\":\"markers\",\"name\":\"Scores\",\"x\":{\"dtype\":\"f8\",\"bdata\":\"uCsw2BOO\\u002fD+iCddurFWeP6kOYSAMn+E\\u002fvmjwNhbP8b8GIUA5Qya4Py66kde4tNi\\u002f0OlPDiCX5L8mV3eNFJ\\u002flP\\u002fRiuWvRWfM\\u002fIRc0UsGk4D\\u002fHYVNMornVv12c\\u002fDftKbU\\u002fVdQtasZW4797RLDlFzzMPwHtlO+Yw9y\\u002fPUVjkMSs9L+zo5jqRmyTP1VLrYkZsbu\\u002fG4pHFErK1D\\u002fkf8veM6rrvxnP0kMize8\\u002fnbTQvTey0r\\u002foYtvxBtzXP32It2Icv9G\\u002fQNdQnawR1L\\u002f+Xk0O56jlP2xi+DGDV+I\\u002fk53QFkOVwD9XDFwaEZrSv2vKm9YNReS\\u002fbI4FFCBGA8Cr0VBXsz\\u002fgv9AEX7YfjOO\\u002fabTQBBHh5j9BHcj2jZ\\u002fWv4UvSZNbZuU\\u002frgit5I2O7z8b2x9Sr2KzP\\u002fU0wKXuM9I\\u002f9FUPqPNc8T8Q+R1tkQfXP9Ln+mt9\\u002fag\\u002fnD\\u002fnv4MK5z81TcsVt0Xev+xh9pe\\u002fqvu\\u002fkA24rXL39b\\u002fYMtGW+cLvv\\u002f0Zym4AxLK\\u002ftFx\\u002fwwtu7j8hQ2M1aO7wP39Dp+2gk+c\\u002ffjO727cX9b\\u002fWZm7tR2H3v8JrKaP1TuS\\u002f0+3tvrmK5j+V3vgEokmwPzGF+cuLa+G\\u002fURQn9DuW5D9RROZxeE3zP7xvKx2rq+G\\u002fJtamGddj4j863\\u002fCAWjkYPxMdqQABfuE\\u002f68hI1vhC1L9FNO8WD5TkPxQq7JtsGMQ\\u002fZP4mPEBS4T8aSWrdSw3bP2uD9uns2LY\\u002f3RqNKIWV77+oiJ8ENfPHv33oB7IjPPQ\\u002fgt7hIu5o5r+7EYJ9tmHhP0LnUQa\\u002fHHa\\u002firiNTHse2T8wbTm+DwvwP7xxCUhNb+E\\u002fy35\\u002f1RvNy7\\u002fbHMGD5S7gP+QN\\u002f4ym+eg\\u002fvUhYzGIHxT\\u002flxJRwI1oFwO6d7KrU3ec\\u002flAClc4xQ878+WNE4cC3yP4SyZtRmMuy\\u002fGIckoKGY6j+5jlRAUOnsv6isdyUGWsU\\u002fSr4LWh0z578tJR4TgwXoP6sgSL9U5\\u002fa\\u002f6jGtwCxg878H998dJtvhv56wi6z\\u002fo+K\\u002fyTnfGcbzyT\\u002f4Yr+yxP7uv2OTwylnEfk\\u002fCp38KSursj\\u002fp62gimJ8JQBAYTMf+kug\\u002fFWTyGIu02T+\\u002fW1oC7jjVP0yqrjJ+u9O\\u002fHO+re3SVdD8NML75dD3dPxo4Mx4rcwbAOVI+fEmo5r9UG3rBT9rIv\\u002f7mkJI+gPY\\u002fXQfWGUQo2T9gWDYXsIzqv0dlRMy22PM\\u002fnmv2NAm11D9FNUVe0yb7v48C6KWTnOw\\u002ffNbrD57o9j+jFjmJJnjCP+E1vuWE7uW\\u002fkReqCBrq77\\u002fqD4oglLGrP7S8c0MvL8G\\u002fRoVGTtyuyj9KXTGxEt7nPy3j+aZd768\\u002fGiv8UG8h9D+YL66S\\u002fJ7hP4h89JDHSui\\u002fcdWv+NGL6b9FzGvjHg7EP7aBzxUuJ7c\\u002f1aZMae4r\\u002fL9DlGLUorfMP3pgvQnMQcu\\u002fKoUJVnhR7j+2qyFgYCruP2ClZHKIgOw\\u002feVYZ9XrVxT9H8CPUeDkCwKfhZ7XI6fC\\u002fKZLGwpLy8D8Ic5gFJCXUP7MFKSCuNPe\\u002f6hLXSl8X4r9qwCHy7R\\u002fLvzQBxqZIzsi\\u002fKdWBW30Y7D9epAmSVQbMvzAx5iTNoe+\\u002fT47Y1Q8ZwD\\u002f8Wu8OYlqpvyw7OaDTV\\u002fs\\u002fWUBW5pCQ7j\\u002f8U5q56c\\u002f0PxlMdg4d+eG\\u002fsRVC0so+xr\\u002f6oTymy07xv\\u002fsIHUxly9K\\u002fLNegiuDj7r9PL3Gkkq7Vv9aS\\u002fzY63N4\\u002fvSHHMIKPyT\\u002f1jp3QCYrwP\\u002fK9G8t5n+g\\u002fJn+5OFoh5b+AWnJeDzDYvyNJp2+Afua\\u002fFfSzb5UW0j8r9cwoQXLzvxwpLgrldPA\\u002fl8e\\u002fuOm55j9nB0OUcMPwv67IhlWWxd4\\u002fV3sGELKK2b9qo+VGK2jPvwiNKWb2GuY\\u002fKLkJdyfSzD9qBBqyzCjjvw==\"},\"y\":{\"dtype\":\"f8\",\"bdata\":\"jU9MLoWdzj92jUaozenav+NCgFFvJO0\\u002fm4DQUz1w2j+mVJ7GQyCHP2vKPWqpyai\\u002fYHA3ARpExD+8GSSQ+ejePxk673MxNro\\u002fRRkyP1qi4T9wOEgoSnfJvz5z9prFRNo\\u002fyHKkWH4A3j9zBVlpz4PfP7z7YLCqJp+\\u002fx39KNoTz879CXr\\u002foCATTP76ZAnoJ5u8\\u002fdaPH36H62T87PwlAAJXwvxH\\u002fkpSzO+0\\u002fbWOR6da94T9GWyZEFTzOPzATftk3Jbi\\u002faPSVnXoR3D+5\\u002fbc3lFkRwNnoKA0J5+S\\u002fkUS4Clj1ur9OL5raTA3jv2ee\\u002f0dd58W\\u002fHr5xrt0Q0r9bXRXyVK7pP\\u002f9tIk2GGeo\\u002f6b8aZpW1yL9iIymDCWzSv9B9e92knto\\u002fzXUFpx7Cvj8h722qp4zTPxBlTlYztbc\\u002fRBOLrO\\u002fA4j\\u002fB2rdYI+XbP3zxd4ERdNU\\u002ffjRpBAPO2z9t8w7s\\u002fr7jv41K7qoeTtS\\u002fjr6DTbUe3b+0PyyfqY7jP+XjozN9E8g\\u002fcsRLCjVi4r8vaVX64rLlvyUMsV+plmU\\u002fIbylvTpf7T8+n2ljWz7TPwuCISQK39U\\u002fQbbF3+RB5D9dIGHgVn\\u002ffv\\u002fFzIeUSmtW\\u002fqZwfLN2LyT+KSSBY\\u002fB\\u002fOv65\\u002fsfpkcNM\\u002fx\\u002fa0zYZI478GwiQprvXaP5\\u002fphByQquY\\u002f1iL5ajzV6L\\u002fAbm3Uc8Pkv8\\u002fY0rI8Fts\\u002f3tZUfNBm4z931\\u002fRFeY7rP1K0Lz06K4I\\u002fETgl+dfLgj\\u002f4oBqW5xH1P93kpD5gmdi\\u002fiNn8dzTVvj9r9cV0YWPmP6pT4vbH+uA\\u002fuJ7FL1xeCcCK1zp3Zj3qv4Xqh2S\\u002fBOQ\\u002fAKFiuJQs3b\\u002fC3mBRVv7VP3HfATI4wci\\u002f6QGCskzJ4L8LSVVsa03Uv5N9BN0q\\u002f9c\\u002fOipP7Cdm0D+o6tjW4XoEwLcVEHkcIeG\\u002fao6kEWWTwT\\u002fcD6u5bZ\\u002fwv3F9RKXl+Jg\\u002fDlJSy8Yp1z9haJ+n1+K9P8kkh2wum9w\\u002fNz14AWN6zz9bYdJgPVbjP6eOWYhj6d0\\u002fjNKYBfu23b\\u002fd9T9RxtS3Px8dugHOHNs\\u002foQosVAau5z9NoghbLf\\u002f1P3sm8fjyoOQ\\u002f0xKM0+\\u002f9pL9dG7osZNu6P+HZBz2xdrc\\u002fcwFxMR\\u002fa4z80EFm+PoPnv427izOtEsS\\u002fgpfXv0+N4b8NvBGEFuTdP5eLGQUhW\\u002fq\\u002fsnueyNMxuj+HO3YfY1rlPwC38DCEVOc\\u002fW3pLzyWVyT+bFrD2KETav61k6a8vhsU\\u002fatFFtkHj4L\\u002fd3fWsv9fgPyMN\\u002f3zpH9Y\\u002f0LnFyjQ+lT+FkfXIgLjgPzqxLqPWtMY\\u002fZu5Ltmo7ub8h8EyGIvruP7nrroGzYse\\u002fv7lqe2LtyD9FrzFMINz9v0N\\u002fbqU6P+S\\u002fYyOmzhIhsz9rsqbIQmHPv400K+qyeeI\\u002fKoGtN1k6wL9W9uq6Nc\\u002fQP1fHaSDRmMC\\u002frWxg2GwVy7\\u002fjco+qi7TDv9qTft3INuU\\u002fTaJ\\u002fyZNGkT8ZW04OsbjWvzzhzK9VtHg\\u002fo7SNSJqP4T\\u002fiqvnBpT6vP\\u002fu9eo3FpKy\\u002fipDX+foU3D+e7YNJT\\u002fTnvzGh6fexfec\\u002fSgHl3fzl0D8m\\u002fIrrKJLFvyILfq\\u002fLuNY\\u002f36CYeRpt4r9P6wvSYk3Zv0doTaD1QBHANeyQQVjq7D8ZZ4nAC0nQP22\\u002f4lNLUta\\u002fm4gcTKwu1z+Bhg6DYfnsv5dzfSp7lrW\\u002fqP7C8Csq1r8mfzzPWeWxvxliy1r3Mt6\\u002fvLJ+PslJ7T9zUHsb2zTaP6MgrG8Fg+O\\u002fSYKYvotjur9dCbvu7MzRP4TbFaMrabk\\u002f9fSb0\\u002fPOsT8hEwoVhcOvv8mMSQGeXOg\\u002fp3OcgKSGzj9bXHYKkDrUv7DEW8uR+sq\\u002fCfZTKyWl3D+1T20sFSuwv4qSbOLQ8wBApPHo5Vi\\u002f\\u002fL+EP8BwRmywvw==\"},\"z\":{\"dtype\":\"f8\",\"bdata\":\"NZmklGRuwr\\u002fJE9+OrNLiP7yMSZWOes2\\u002f1j0NOBLJ6T\\u002f\\u002fMYUPrTbyPw\\u002frDpt32u0\\u002fWcVmNzmH5j8xjVC8dmi4v889beE+lqY\\u002fZeDcHDKR278Th7Pj\\u002f\\u002fHmP\\u002fMex1CJU6G\\u002frH\\u002fHg2Sk379M35YDGVDwPzHtLgTXdfM\\u002f\\u002fxp\\u002fjSSA3r+5nrv7uFzpP700ffS2dsc\\u002fNfGlPmnc4b\\u002fc+4tJdpPCv+h\\u002f\\u002f8VDVvA\\u002fSy5RSHQJ4b8f25w+K+7nPxbCO0zVr+W\\u002fi1WLr8sNtD\\u002fhvv4YmdflP\\u002f4RWJxYTeQ\\u002frFiYoL725T8xx4TnMJ3hP8BDHlX7rcw\\u002f4p1MNlOi6b9ByCFtu8Gsv+UJD3Mul9C\\u002fxjGds3PZ7T+WPA5a5X\\u002fkP+YhN+XeD+Y\\u002f52vQ7Rjk1r++y9HcZKDwP7b5j1nY4OC\\u002fISJBOgjl1z\\u002fLCOtqsGzPv1mJ6Fyg5rW\\u002f8YrkTyfo2z+qN1HzWEPivwef5ozK4dy\\u002fdFPfIMUF1L+Evyw6Rtriv18nyNXas+Q\\u002fPJxGHU193D\\u002f9LoryeYfov\\u002fnG72gAGsY\\u002f+LUMedzVuL8vuyzNmYPLv2ekeAcgS9Y\\u002f\\u002feyuY+\\u002fN9L8IWyqhC6XFvx5VrfLTPa8\\u002f7Md\\u002f6eQs3b8ACzTiBnrOv65zBFCzRec\\u002fDGrDOxf2sr9bpRY9ccTwP8olzknDoam\\u002f38QCJSIwz7\\u002f+4hZHpyjmv74\\u002fVTkBJPE\\u002f1JrkplDQ1j\\u002f8zLb6ntzdv9I3QWDY0Ze\\u002feM4ayo9C0j+5YrzU8mPFPweopAXIpsg\\u002f1ZeZ2NPX3r85R+FULpnUvyVxp5\\u002fjMOw\\u002fmIRq7wNT7r\\u002fbRis+SyLov3ISOsnhY+S\\u002fGGGoEd\\u002f62L\\u002fnwhVH8FPwvzGLAvJ9Atm\\u002fOSSmY39Twj9oOIqDi\\u002fzqvzeY\\u002fxVbS+O\\u002fLFhFfn880T\\u002fY+Z9JA8bivwvV+G3Dlea\\u002fQyKy12VP7r\\u002f4QNKBChTnPzXBxkZJ2PI\\u002fQOoI1zL\\u002fxL8NALQfyuqZP7mKL7NRy\\u002fi\\u002fymWh2L4S278M4xWeD0nxvy5C8dPEq9E\\u002fqF8nypsb3L+rFLdW01aZP6d0HERRRt2\\u002fr79GszNs2L+9qkCLOafFP1j7pdVUWsa\\u002f7B5V814A6b\\u002fRC01y1XTiv8x7CDNYA7W\\u002fenuRDw8s3j8hpi9JRle8v7yAhZ7TNOM\\u002fM8mD1cHx8T+UXLZw21n0Pxwx7nvA2eG\\u002fBuyc6UQd8r9F4kdvBQC\\u002fPya0F6gaKOi\\u002f0QH6ABWc178Ee0BmZEvhv2+xjOtmh9K\\u002fkH+66mkp2j+N56gaZNDYv+lvByatFOc\\u002fM3dRH\\u002fnJzj+Cf0OY5wHovy\\u002fwV0NJzeS\\u002fS0AyDrM41r+ciwXLCovtPz5p0\\u002fTm38C\\u002fHfj+1t+b6j8yZzHOPq\\u002fpP6Xr2xkhu+s\\u002f1yiHndXHyL+yOMBP6Uzcv\\u002f+S3Eyc7Ny\\u002fCx1sTODo27+lh0KGB2XyPzA+RsIm1eM\\u002fSFPGwWC1uT\\u002fW0xKabBLtP2mZTUbEVOq\\u002fx7yfUcdW3b8MeS5bC3DpP3f52RLQu9K\\u002fguHPW2wHuj9OyiZtyom4P16UVZGRN+C\\u002fEkFkH8a70b9b70kIKGfav2HsW4MeYuG\\u002fJyn54nyf37\\u002fxzwlygKrmvwBgMht3vds\\u002faIXglG1j5T9H2muywZvkP7m0uX4BlNc\\u002fwXUlLfZl5L+sDYH3\\u002fO\\u002fKvyCAktBLrOS\\u002fRkf9sowDs79V\\u002f68gLWmAv3rMyZBmzew\\u002fUzcKKUfRxr\\u002fMDPTlmZTRvxg0+hi6Rem\\u002fpSVyy\\u002fKR5z9s4R\\u002fXkJHCP9+Ei\\u002fM1Dsq\\u002fJ8yEXmW91j+UkRI0Ec\\u002fWPzbDq6EnzfA\\u002fcY5GpHUiq795hvROibrpv6HXLgtGR+a\\u002frFE+ajwF5T\\u002fvpL+QTrOjvyyWrxhNwqc\\u002f8OQG9aap5j89WW8G4M7XP+yJSZtSzsq\\u002f4HRNNgfc4L+BGZSOli\\u002flvw==\"},\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.89764467366747],\"y\":[0,0.17266547642561833],\"z\":[0,-3.105995608718755],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"status_developed\"],\"textposition\":\"top center\",\"x\":[-0.89764467366747],\"y\":[0.17266547642561833],\"z\":[-3.105995608718755],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.7716586729442265],\"y\":[0,0.0885692624816818],\"z\":[0,-0.29293542136292555],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"bmi\"],\"textposition\":\"top center\",\"x\":[0.7716586729442265],\"y\":[0.0885692624816818],\"z\":[-0.29293542136292555],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.012425335008710651],\"y\":[0,0.5363220987472468],\"z\":[0,-0.9072616247441913],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"gdp\"],\"textposition\":\"top center\",\"x\":[0.012425335008710651],\"y\":[0.5363220987472468],\"z\":[-0.9072616247441913],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,2.719396085736088],\"y\":[0,0.2904811998393874],\"z\":[0,0.7549975349183866],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"percentage_expenditure\"],\"textposition\":\"top center\",\"x\":[2.719396085736088],\"y\":[0.2904811998393874],\"z\":[0.7549975349183866],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-1.5668841394200617],\"y\":[0,-0.5247927190674881],\"z\":[0,3.6868575477735397],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"alcohol\"],\"textposition\":\"top center\",\"x\":[-1.5668841394200617],\"y\":[-0.5247927190674881],\"z\":[3.6868575477735397],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.39736888744734405],\"y\":[0,1.2525529009671752],\"z\":[0,0.05711886684447822],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"thinness_1_19_years\"],\"textposition\":\"top center\",\"x\":[0.39736888744734405],\"y\":[1.2525529009671752],\"z\":[0.05711886684447822],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.14807303957509793],\"y\":[0,-0.05418990123460298],\"z\":[0,0.02972810763018318],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"under_five_deaths\"],\"textposition\":\"top center\",\"x\":[0.14807303957509793],\"y\":[-0.05418990123460298],\"z\":[0.02972810763018318],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.25929508507794297],\"y\":[0,0.30812327715259935],\"z\":[0,-2.121685833983219],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"hiv_aids\"],\"textposition\":\"top center\",\"x\":[-0.25929508507794297],\"y\":[0.30812327715259935],\"z\":[-2.121685833983219],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,0.1334731481586596],\"y\":[0,1.1190125994086344],\"z\":[0,0.5458985743276428],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"thinness_5_9_years\"],\"textposition\":\"top center\",\"x\":[0.1334731481586596],\"y\":[1.1190125994086344],\"z\":[0.5458985743276428],\"type\":\"scatter3d\"},{\"line\":{\"color\":\"firebrick\",\"width\":4},\"mode\":\"lines\",\"showlegend\":false,\"x\":[0,-0.5384038930101158],\"y\":[0,0.3815137771844031],\"z\":[0,-0.332302840134496],\"type\":\"scatter3d\"},{\"mode\":\"text\",\"showlegend\":false,\"text\":[\"adult_mortality\"],\"textposition\":\"top center\",\"x\":[-0.5384038930101158],\"y\":[0.3815137771844031],\"z\":[-0.332302840134496],\"type\":\"scatter3d\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"#C8D4E3\",\"linecolor\":\"#C8D4E3\",\"minorgridcolor\":\"#C8D4E3\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"white\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"white\",\"polar\":{\"bgcolor\":\"white\",\"angularaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"white\",\"aaxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#A2B1C6\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"#EBF0F8\",\"linecolor\":\"#EBF0F8\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"#EBF0F8\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"white\",\"gridcolor\":\"#DFE8F3\",\"linecolor\":\"#EBF0F8\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"#EBF0F8\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"white\",\"subunitcolor\":\"#C8D4E3\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"scene\":{\"xaxis\":{\"title\":{\"text\":\"PC6\"}},\"yaxis\":{\"title\":{\"text\":\"PC7\"}},\"zaxis\":{\"title\":{\"text\":\"PC9\"}}},\"legend\":{\"orientation\":\"h\",\"yanchor\":\"bottom\",\"y\":1.02,\"xanchor\":\"right\",\"x\":1},\"title\":{\"text\":\"supervised Biplot\"},\"width\":900,\"height\":700},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('6a615dda-d159-46d7-9ce2-1258b4313a6a');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n\n3D biplot for supervised PCs 6, 7, 9 (if available).\n:::\n:::\n\n\n## Conclusion\n\nSupervised PCA regression provides a compact and diagnostically stable representation of the life expectancy predictor space. In the final trimmed specification (`m_final`), the in-sample fit for 2014 is extremely high ($R^2 \\approx 0.98$; RMSE $\\approx 1.07$ years), and standard diagnostic checks are largely favorable: residual normality is not rejected (JB and Shapiro), autocorrelation is negligible (Durbin–Watson $\\approx 2$), and multicollinearity is low by construction (orthogonal PCs; modest condition number and VIF). The only systematic caveat is mild heteroscedasticity: Breusch–Pagan is borderline while White’s test passes, which suggests weak, form-dependent non-constant variance. For inference, this means classical standard errors may be slightly optimistic; robust (HC3) or bootstrap intervals are therefore preferable, even though point predictions are typically less affected.\n\nOut-of-sample performance on the 2011 holdout remains strong (RMSE $\\approx 1.92$; $R^2 \\approx 0.95$), indicating that the supervised PCA basis captures a large fraction of the predictable cross-sectional structure. When generalizing across many years using the same 2014 PCA mapping, errors increase as expected for early years (largest distribution shift relative to 2014), and the mean cross-year RMSE favors the untrimmed interaction specification over the trimmed “best-in-sample” model. This highlights a recurring trade-off: **models optimized for 2014 explanation and clean diagnostics are not automatically optimal for forecasting under temporal shift**. In the report, `m_final` is therefore most defensible as a 2014 explanatory model, while the interaction model is the more credible choice when the primary objective is stability across years.\n\nSubstantively, the retained PCs support a consistent narrative: the dominant axis is a development–mortality gradient (high mortality burden vs high schooling/income proxies), with additional orthogonal axes capturing residual HIV-related burden and spending/nutrition/immunization contrasts. The inclusion of PC interactions implies effect modification: the association of the “HIV/mortality” axis and the “development/disease” axis depends on the structural contrast represented by PC4, consistent with the idea that the life-expectancy penalty of specific burdens is not uniform across broader development and resource contexts.\n\nFinally, all coefficient p-values and confidence intervals must be interpreted as **post-selection** (screening $\\rightarrow$ PCA $\\rightarrow$ stepwise/interactions $\\rightarrow$ trimming). The chapter therefore treats statistical significance as a descriptive guide to structure rather than a confirmatory claim of causal effects. The most reliable takeaways are the direction and relative importance of the dominant axes, the robustness of predictive accuracy on all held-out years, and the interpretability of the PCA-based decomposition via loadings.\n\n",
    "supporting": [
      "5_regression_supervised_pca_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}